
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    
    <meta name="author" content="CRySoL">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/main.js"></script>

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/stylesheets/pygment_trac.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    

  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-narrow">
<!--
	  <a class="brand-image" href="/"><img class="brand-image" src="/assets/themes/twitter/logo.png"/></a>
-->
          <a class="brand" href="/">CRySoL</a>
          <ul class="nav">
            
            
            


  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/recipes.html">Recipes</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/users.html">Users</a></li>
      	
      
    
  
    
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="row-fluid">
	<div class="content">
          


<div class="sidebar span3">
  <div id="logo">
  <a href="/">
    <img src="/assets/images/logo.png" alt="logo"/>
  </a>
</div>

  <div class="recent">
<h2>recent</h2>
<ul>

  <li><a href="/recipe/2013-12-04/authentication-in-IceGrid">¿Cómo proporcionar un mecanismo de autenticación a IceGrid?</a></li>

  <li><a href="/recipe/2013-11-29/fix-damaged-var-lib-dpkg-available">Fixing damaged /var/lib/dpkg/available</a></li>

  <li><a href="/recipe/2013-11-15/reading-a-property-file-with-augeas">Reading a properties file with augeas</a></li>

  <li><a href="/recipe/2013-10-28/file-grain-sudo">Fine-grain sudo</a></li>

  <li><a href="/recipe/2013-10-21/git-remove-from-history">git: removing files from history</a></li>

</ul>
</div>

<div class="categories">
<h2>categories</h2>

<table class="categories">
<tr class="row1">
<td class="col1">
  <a href="javascript:window.location.href='/categories.html#tale-ref'; hide_others()"
     title="64 posts"
     >tale</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#event-ref'; hide_others()"
     title="16 posts"
     >event</a>
</td></tr>
<tr class="row2"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#challenge-ref'; hide_others()"
     title="11 posts"
     >challenge</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#new-ref'; hide_others()"
     title="167 posts"
     >new</a>
</td></tr>
<tr class="row3"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#recipe-ref'; hide_others()"
     title="592 posts"
     >recipe</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#offer-ref'; hide_others()"
     title="1 posts"
     >offer</a>
</td></tr>
<tr class="row4"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#art-ref'; hide_others()"
     title="9 posts"
     >art</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#enquiry-ref'; hide_others()"
     title="33 posts"
     >enquiry</a>
</td></tr>
<tr class="row5"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#script-ref'; hide_others()"
     title="15 posts"
     >script</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#humor-ref'; hide_others()"
     title="6 posts"
     >humor</a>
</td></tr>
<tr class="row6"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#opinion-ref'; hide_others()"
     title="66 posts"
     >opinion</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#quote-ref'; hide_others()"
     title="1 posts"
     >quote</a>
</td></tr>
<tr class="row7"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#cooking-ref'; hide_others()"
     title="23 posts"
     >cooking</a>
</td></tr>

</table>
</div>


<div class="tags">
<h2>tags</h2>

<table class="tags">
<tr class="row1">
<td class="col1">
  <a href="javascript:window.location.href='/tags.html#puppet-ref'; hide_others()"
     title="1 posts"
     >puppet</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#platanada-ref'; hide_others()"
     title="6 posts"
     >platanada</a>
</td></tr>
<tr class="row2"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#ceslcam-ref'; hide_others()"
     title="9 posts"
     >ceslcam</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Oreto-ref'; hide_others()"
     title="6 posts"
     >Oreto</a>
</td></tr>
<tr class="row3"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#patterns-ref'; hide_others()"
     title="6 posts"
     >patterns</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#NDS-ref'; hide_others()"
     title="6 posts"
     >NDS</a>
</td></tr>
<tr class="row4"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#VCS-ref'; hide_others()"
     title="20 posts"
     >VCS</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#embedded-ref'; hide_others()"
     title="53 posts"
     >embedded</a>
</td></tr>
<tr class="row5"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#uclmwifi-ref'; hide_others()"
     title="4 posts"
     >uclmwifi</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#scapy-ref'; hide_others()"
     title="7 posts"
     >scapy</a>
</td></tr>
<tr class="row6"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#emacs-ref'; hide_others()"
     title="48 posts"
     >emacs</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#agile-ref'; hide_others()"
     title="1 posts"
     >agile</a>
</td></tr>
<tr class="row7"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#graphics-ref'; hide_others()"
     title="10 posts"
     >graphics</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Debian-ref'; hide_others()"
     title="69 posts"
     >Debian</a>
</td></tr>
<tr class="row8"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#MySQL-ref'; hide_others()"
     title="6 posts"
     >MySQL</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#doublex-ref'; hide_others()"
     title="1 posts"
     >doublex</a>
</td></tr>
<tr class="row9"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#LaTeX-ref'; hide_others()"
     title="11 posts"
     >LaTeX</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#sugarfree-ref'; hide_others()"
     title="4 posts"
     >sugarfree</a>
</td></tr>
<tr class="row10"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#printer-ref'; hide_others()"
     title="1 posts"
     >printer</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#debian-ref'; hide_others()"
     title="2 posts"
     >debian</a>
</td></tr>
<tr class="row11"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#pdf-ref'; hide_others()"
     title="1 posts"
     >pdf</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Chumby-ref'; hide_others()"
     title="5 posts"
     >Chumby</a>
</td></tr>
<tr class="row12"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Hurd-ref'; hide_others()"
     title="1 posts"
     >Hurd</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#C++-ref'; hide_others()"
     title="16 posts"
     >C++</a>
</td></tr>
<tr class="row13"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Ice-ref'; hide_others()"
     title="17 posts"
     >Ice</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#GNESIS-ref'; hide_others()"
     title="13 posts"
     >GNESIS</a>
</td></tr>
<tr class="row14"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Python-ref'; hide_others()"
     title="61 posts"
     >Python</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#augeas-ref'; hide_others()"
     title="1 posts"
     >augeas</a>
</td></tr>
<tr class="row15"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#jekyll-ref'; hide_others()"
     title="2 posts"
     >jekyll</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#gtk-ref'; hide_others()"
     title="11 posts"
     >gtk</a>
</td></tr>
<tr class="row16"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#drivers-ref'; hide_others()"
     title="31 posts"
     >drivers</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Debian-devel-ref'; hide_others()"
     title="13 posts"
     >Debian-devel</a>
</td></tr>
<tr class="row17"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#networking-ref'; hide_others()"
     title="76 posts"
     >networking</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#sudo-ref'; hide_others()"
     title="1 posts"
     >sudo</a>
</td></tr>
<tr class="row18"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#git-ref'; hide_others()"
     title="3 posts"
     >git</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#blender-ref'; hide_others()"
     title="3 posts"
     >blender</a>
</td></tr>
<tr class="row19"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#devel-ref'; hide_others()"
     title="17 posts"
     >devel</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Molinux-ref'; hide_others()"
     title="12 posts"
     >Molinux</a>
</td></tr>
<tr class="row20"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#virtualbox-ref'; hide_others()"
     title="3 posts"
     >virtualbox</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#sysadm-ref'; hide_others()"
     title="1 posts"
     >sysadm</a>
</td></tr>
<tr class="row21"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#android-ref'; hide_others()"
     title="7 posts"
     >android</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#shell-ref'; hide_others()"
     title="24 posts"
     >shell</a>
</td></tr>
<tr class="row22"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#ripping-ref'; hide_others()"
     title="5 posts"
     >ripping</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#drupal-ref'; hide_others()"
     title="1 posts"
     >drupal</a>
</td></tr>
<tr class="row23"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Java-ref'; hide_others()"
     title="1 posts"
     >Java</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#proselitism-ref'; hide_others()"
     title="19 posts"
     >proselitism</a>
</td></tr>
<tr class="row24"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#multimedia-ref'; hide_others()"
     title="24 posts"
     >multimedia</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#ocio-ref'; hide_others()"
     title="28 posts"
     >ocio</a>
</td></tr>
<tr class="row25"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#gstreamer-ref'; hide_others()"
     title="9 posts"
     >gstreamer</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Arco-ref'; hide_others()"
     title="116 posts"
     >Arco</a>
</td></tr>
<tr class="row26"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#INGSOFT-ref'; hide_others()"
     title="20 posts"
     >INGSOFT</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#mercurial-ref'; hide_others()"
     title="8 posts"
     >mercurial</a>
</td></tr>
<tr class="row27"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#gnome-ref'; hide_others()"
     title="10 posts"
     >gnome</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#security-ref'; hide_others()"
     title="25 posts"
     >security</a>
</td></tr>
<tr class="row28"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#linux (the kernel of course)-ref'; hide_others()"
     title="7 posts"
     >linux (the kernel of course)</a>
</td></tr>

</table>
</div>

</div>

<div class="span9">
  
    <div class="pagination pagination-centered">
  <ul>

  
    <li class="prev"><a href="/" title="first page">&laquo;</a></li>
    <li class="prev" title="previous page">
      
        <a href="/page65">&lsaquo;</a>
      
    </li>
  

  <li><a>Page: 66 of 118</a></li>

  
    <li class="next" title="next page">
      <a href="/page67">&rsaquo;</a>
    </li>
    <li class="next"><a href="/page118" title="last page">&raquo;</a></li>
  

  </ul>
</div>



  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-05-17/rs232-en-el-pic-uart-por-software">RS232 en el PIC: UART por software</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-17
    
      
  <a href="/users.html#oscarah">
   oscarah
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-17-rs232-en-el-pic-uart-por-software.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-17-rs232-en-el-pic-uart-por-software.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#embedded-ref">embedded </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/689">node/689</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote class="head">La comunicación entre dispositivos es vital para diseñar sistemas más complejos. En este tema, uno de los primeros pasos cuando se trabaja con el PIC es la comunicación con el PC usando el puerto serie.
</blockquote>



A continuación veremos las posibilidades disponibles y una implementación de una <a href="http://es.wikipedia.org/wiki/UART">UART</a> en ensamblador para el PIC.

<h2>Escenario</h2>

Por supuesto, existen muchos microcontroladores que integran entre sus periféricos una UART. En estos casos es mucho más sencilla la comunicación con el PC o con otros periféricos, pues la UART se encarga de casi todo. El problema surge cuando el micro que usamos no tiene el hardware adecuado (por problemas de espacio, de costo, etc.). En esos casos, es posible utilizar UART's hardware externas, pero que presentan el problema de tener que usar más hardware (encarecimiento, volumen...), por lo que quizá tampoco sea una solución. Para estas situaciones (u otras que se puedan presentar) tenemos la posibilidad de diseñar nosotros mismos la UART e implementarla en software. Veamos un ejemplo de esta implementación.

<h2>Ingredientes</h2>

Lo que vamos a hacer es conectar un PIC al PC para enviar información entre ambos dispositivos. Usaremos el <a href="http://es.wikipedia.org/wiki/Puerto_serie">puerto serie</a> del PC, que emplea la norma <a href="http://es.wikipedia.org/wiki/RS232">RS232</a>. Para hacer esto, tenemos que convertir los niveles de señal entre los que usa el PIC (TTL) y los del puerto serie (RS232). Para ello, necesitaremos un conversor. En este caso, usaremos el <a href="http://www.maxim-ic.com/quick_view2.cfm/qv_pk/2929">DS275</a>. Para el conexionado y las señales, te remito a: <a href="http://netandtech.wordpress.com/hardware/la-consola-de-la-fonera-ds275/">La consola de la fonera: DS275</a>. Si no quieres leer mucho, estos son los pines a conectar (usando un DB-9 para el RS232):

<pre>
 RS232      DS275      PIC
--------------------------
 RxD(2)     TXout(5)
 TxD(3)     RXin (7)

            RXout(1)   RxD
            TXin (3)   TxD
</pre>

En cuanto a hardware, sólo eso. Necesitarás también una protoboard, pines... lo normal en estos casos. El software lo haremos nosotros ;-) .

<h2>Comunicación serie</h2>

Antes de seguir, nos sería útil saber cómo funciona una comunicación serie, en este caso la que se usa en el puerto serie de nuestro PC (o Fonera...). Serie nos indica <i>uno detrás de otro</i>, y en efecto, cuando transmitimos algo en serie, lo hacemos bit a bit. En el caso del PIC, si queremos transmitir algo, hemos de usar uno de los pines configurado como salida. Para transmitir un '1' lógico, ponemos el pin en nivel alto (+5V por ejemplo) y si queremos enviar un '0', ponemos el pin en nivel bajo (cerca del nivel GND). Así, variando en el tiempo el estado del pin, podemos enviar todos los datos que queramos. La pregunta que surge es: ¿cuánto tiempo mantenemos el nivel? La respuesta es obvia: dependiendo de la velocidad con que estemos transmitiendo. En el RS232 mediremos la velocidad en bps (bits por segundo).

Así pues, tenemos diferentes velocidades 'estándar': 600, 1200, 2400... En nuestro ejemplo usaremos 9600 bps, pero si es necesario podríamos llegar a velocidades de casi 1 Mbps. Luego veremos cuanto ha de durar cada bit para enviar a esa velocidad.

Vemos que si cada bit tiene una duración fija, constante, no es necesario un reloj que marque los cambios de bit. Cierto, no es necesario, es implícito. Pero esto implica que si se comete un error en la transmisión de un bit, el resto de la comunicación sería basura. Existen por tanto ciertos métodos y bits bandera para que esto no ocurra. 

En primer lugar, el estado del pin de envio mientras no se está enviando es fijo (deber ser '1'). Así, cuando se empieza la transmisión, enviamos un bit de inicio (que es un '0'). Después, se acuerda entre emisor y receptor cuantos bits van a conformar los datos: 5, 6, 7 u 8. Lo normal es 8 (un byte). Se envían respetando los tiempos de cada bit. Una vez enviados los datos, el siguiente bit es opcional y se usa como mecanismo para evitar errores: la paridad. Consiste en un bit que indicar si el número de unos o ceros en los datos es par o impar. Aquí no lo usaremos. 

Para terminar, enviamos uno o dos bits de parada, de forma que el pin de transmisión se quede en el nivel lógico '1'. Así, se termina la transmisión de nuestro dato. Nos quedamos con la velocidad (9600 bps), los bits de datos (8bits), la paridad (N) y el bit de stop (1): 9600 8N1

Podemos verlo todo un poco más claro en el siguiente cronograma:

<center>
<a href="http://crysol.inf-cr.uclm.es/files/cronograma.jpg">
<img src='http://crysol.inf-cr.uclm.es/files/cronograma.jpg' alt='Cronograma rs232'  width="400"/></a>
</center>

<h2>UART software</h2>

Ahora lo que haremos será implementar unas rutinas que nos simplifiquen el envio de datos por el puerto serie. Antes de nada, convenir que pines usaremos. El PORTA,0 será el pin TxD mientras que el PORTA,1 será el RxD. Usaremos el PIC16F84, así lo configuramos:

<pre>
	list	p=16f84		; Procesador a usar.
	include	&lt;p16f84.inc&gt;

;;; Configuración
;;;  Oscilador:	cristal de cuarzo
;;;  WatchDogTimer: apagado
;;;  CodeProtection: desactivado
;;;  PoWeR up Timer activado
	__CONFIG _XT_OSC & _WDT_OFF & _CP_OFF & _PWRTE_ON
</pre>

También podemos definir las constantes que usarán las rutinas:

<pre>
;;; Constantes
tx_port equ	PORTA 		; Puerto de tranmisión
tx_pin	equ	0x0		; Pin de transmisión
rx_port equ	PORTA 		; Puerto de recepción
rx_pin	equ	0x1		; Pin de recepción

data_tx	equ	0xd		; Datos a enviar
data_rx	equ	0xf		; Datos recibidos

count_d equ	0xc		; Contador para el retardo
count_p	equ	0x10		; Contador para el número de bits
</pre>

Ahora podemos definir la rutina de retardo, que será la que marque el tiempo que consideraremos de un bit. Como hemos dicho, la velocidad de transmisión será 9600bps. También hay un comentario que indica que el reloj que usaremos será de 4 MHz, lo que indica que tendremos un ciclo de reloj de 1 us. Si dividimos 9600/1s = 104 us. Luego la duración de cada bit ha de ser de 104 us. Nuestro bucle será así:

<pre>
rs232_d:
	movlw	D'32'		; 1 us (algo menos de 33)
	movwf	count_d		; 1 us
	decfsz	count_d, F	; 1 us (+ 1 en caso de skip)
	goto	$-1		; 2 us

	return			; 2 us
</pre>

Y como vemos, se ejecuta una media de 3 veces más 5 ciclos de inicialización y retorno. Luego haciendo un cálculo rápido vemos que con justo 33 veces conseguimos que <i>rs232_d</i> dure 104 us. En la práctica, no nos es útil acercarnos tanto al límite, por lo que si usamos 32, funciona mejor.

Ahora, cada vez que enviamos un bit, hemos de esperar el tiempo marcado por rs232_d. Veamos la rutina de envio:

<pre>
send_b:	               
        movwf   data_tx        	; Guargamos el dato a enviar
        movlw   d'8'          	; Enviaremos 8 bits 
        movwf   count_p
	
        bcf     tx_port,tx_pin	; enviamos el bit de inicio
        call    rs232_d         
	
s_loop:
	btfss	data_tx,0	; comprobamos el primer bit
        bcf     tx_port,tx_pin  ; si es un 0 enviamos un 0	
        btfsc   data_tx,0       
        bsf     tx_port,tx_pin  ; si es un 1 enviamos un 1

        call    rs232_d         ; mantenemos el bit el tiempo necesario
	
        rrf     data_tx,F	; movemos los bits a la derecha	

        decfsz  count_p,F       ; si no se han enviado 8 bits...
        goto    s_loop       	; seguimos
	
        bsf     tx_port,tx_pin 	; si se han enviado, enviamos el bit de stop
        call    rs232_d
	return
</pre>

NOTA: enviamos el LSB (least significative bit) primero, el bit 0.

Antes de llamar a esta rutina, debes poner en W el byte que quieras enviar. Este byte se guarda en un registro, así como el número de bits de datos. Se envia el bit de inicio y después el resto de bits. Una vez terminado, nos queda poner el bit de stop y retornar. Sencillo, ¿verdad?

Pues la de recepción no es mucho más complicada:

<pre>
recv_b:
	movlw	d'8'
	movwf	count_p
	clrf	data_rx		; daremos por hecho que son todo 0's
	btfsc	rx_port, rx_pin ; comprobamos bit de inicio
	return			; datos erróneos	

r_loop:
	rrf	data_rx,F	; rotamos a la derecha (primero LSB)
	call	rs232_d		; esperamos el tiempo adecuado
	
	btfsc	rx_port, rx_pin	; solo cambiamos si es un 1
	bsf	data_rx,7	
	decfsz	count_p, F
	goto	r_loop
	
	movf	data_rx, W	; retornamos el dato leido, en W
	return	
</pre>

Antes de llamar a esta rutina, es necesario que compruebes el pin RxD en espera del bit de inicio. Inmediatamente después de cambiar de estado el pin RxD, se ha de llamar a esta rutina. Es posible retardarse un lapso de tiempo máximo de rs232_d/2, pero no mucho mayor, si se quiere leer algo. Lo más aconsejable es usar como pin RxD uno que sea sensible a cambios de estado mediante interrupciones, y llamar a la rutina de lectura desde el vector de interrupción. Así se evita el hacer un polling al pin RxD.

<h2>Ejemplo de uso</h2>

Como ejemplo de uso, veremos un simple servicio de echo en el puerto serie: cada byte que se envía desde el PC al PIC es retornado de nuevo al PC. Es algo muy sencillo:

<pre>
;;; -*- coding:	utf-8 -*-
;;; Prueba de comunicación con el puerto RS232 de
;;; un pc. Se establece la comunicación a
;;; 9600bps, 8N1, con un cristal de 4MHz

;;; Author: Oscar Acena, (c) 2006, 2007
;;; License: GPL

	list	p=16f84		; Procesador a usar.
	include	&lt;p16f84.inc&gt;

;;; Configuración
;;;  Oscilador:	cristal de cuarzo
;;;  WatchDogTimer: apagado
;;;  CodeProtection: desactivado
;;;  PoWeR up Timer activado
	__CONFIG _XT_OSC & _WDT_OFF & _CP_OFF & _PWRTE_ON

;;; Constantes
tx_port equ	PORTA 		; Puerto de tranmisión
tx_pin	equ	0x0		; Pin de transmisión
rx_port equ	PORTA 		; Puerto de recepción
rx_pin	equ	0x1		; Pin de recepción

data_tx	equ	0xd		; Datos a enviar
data_rx	equ	0xf		; Datos recibidos
	
count_d equ	0xc		; Contador para el retardo
count_p	equ	0x10		; Contador para el numero de bits

	org	0		; Punto de inicio
	goto	main

	org	4		; Rutina de interrupcion
	retfie

;;; -------------------------------------------------------------
;;; Tenemos que transmitir a 9600bps, lo que implica 1 bit
;;;  cada 1/9600 s -> 104 us. Con un reloj de 4MHz, tenemos
;;;  un ciclo de 1us. El siguiente codigo es un bucle que usa una
;;;  media de 3 ciclos, por lo que si lo ejecutamos unas 33 veces,
;;;  tendremos el ratio deseado: (2+1)*33 + 1+1+1+2 = 104 us 		 
rs232_d:
	movlw	D'32'		; 1 us (algo menos de 33)
	movwf	count_d		; 1 us
	decfsz	count_d, F	; 1 us (+ 1 en caso de skip)
	goto	$-1		; 2 us

	return			; 2 us

;;; -------------------------------------------------------------
;;; Recibimos un byte, que dejamos en w cuando retornamos. Usamos la
;;; configuración 8N1. El bit de start será el primero que leeremos.
recv_b:
	movlw	d'8'
	movwf	count_p
	clrf	data_rx		; daremos por hecho que son todo 0's
	btfsc	rx_port, rx_pin ; comprobamos bit de inicio
	return			; datos erróneos	

r_loop:
	rrf	data_rx,F	; rotamos a la derecha (primero LSB)
	call	rs232_d		; esperamos el tiempo adecuado
	
	btfsc	rx_port, rx_pin	; solo cambiamos si es un 1
	bsf	data_rx,7	
	decfsz	count_p, F
	goto	r_loop
	
	movf	data_rx, W	; retornamos el dato leido, en W
	return
	
;;; -------------------------------------------------------------
;;; Enviamos un byte, que debe estar en W antes de llamar a esta rutina
;;; con la cofiguración 8N1, a la velocidad estipulada por rs232_d.
send_b:	               
        movwf   data_tx        	; Guargamos el dato a enviar
        movlw   d'8'          	; Enviaremos 8 bits 
        movwf   count_p
	
        bcf     tx_port,tx_pin	; enviamos el bit de inicio
        call    rs232_d         
	
s_loop:
	btfss	data_tx,0	; comprobamos el primer bit
        bcf     tx_port,tx_pin  ; si es un 0 enviamos un 0	
        btfsc   data_tx,0       
        bsf     tx_port,tx_pin  ; si es un 1 enviamos un 1

        call    rs232_d         ; mantenemos el bit el tiempo necesario
	
        rrf     data_tx,F	; movemos los bits a la derecha	

        decfsz  count_p,F       ; si no se han enviado 8 bits...
        goto    s_loop       	; seguimos
	
        bsf     tx_port,tx_pin 	; si se han enviado, enviamos el bit de stop
        call    rs232_d
	return


;;; Rutina principal. Configura el pic.
main:
	bsf	STATUS, RP0	
	bcf	tx_port, tx_pin ; Pin TxD como salida
	bcf	TRISB, 0x3      ; y pin PORTB,3 como salida también
	bcf	STATUS, RP0

loop:	
 	btfsc	rx_port, rx_pin ; Esperamos al bit de inicio
 	goto	$-1
	
	bsf	PORTB, 0x3
	call	recv_b		; recibimos 
	call	send_b		; enviamos
	bcf	PORTB, 0x3
	
	goto	loop
	end
</pre>

En este caso, tengo puesto un LED en el PORTB,3, que se enciende cuando hay comunicación.
Lo puedes probar con el minicom, o mejor con algo hexadecimal, como el cutecom.

<h2>Disclaimer</h2>

Esta seguro no es la mejor UART que existe, desde luego. Acepto comentarios que ayuden a mejorarla. Este es mi pequeño aporte, quizá entre todos salga algo decente que podamos usar. Es lo genial del software libre.

Por otro lado, todo esto es software prototipo. No esta completamente depurado y NO ASEGURO QUE FUNCIONE EN NINGÚN CASO. NO ME HAGO RESPONSABLE DE LOS DAÑOS CAUSADOS AL HARDWARE, A LA COMPUTADORA O A SU PERSONA. Puedes modificarlo o usarlo a tu antojo. Queda bajo la licencia GPL v2.0 o posterior.

<h2>Referencias</h2>
<ol>
<li><a href="http://www.x-robotics.com/rutinas.htm">X-Robotics</a></li>
<li><a href="http://www.sprut.de/electronic/pic/grund/rs232.htm">Mucha info útil (alemán)</a></li>
</ol>

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-05-17/la-consola-de-la-fonera-ds275">La consola de la fonera: DS275</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-17
    
      
  <a href="/users.html#oscarah">
   oscarah
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-17-la-consola-de-la-fonera-ds275.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-17-la-consola-de-la-fonera-ds275.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#embedded-ref">embedded </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/690">node/690</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote class="head">El router <i>La Fonera</i>, distribuido por <a href="http://www.fon.com">Fon</a>, cuenta con un puerto serie interno (por lo menos hasta la versión 2.1, aunque es muy posible que la 2.2 también traiga uno). Veamos como usarlo para acceder a la consola del GNU/Linux que lleva dentro.</blockquote>


<h2>Introducción</h2>
La fonera trae un GNU/Linux de fábrica. Es una versión modificada de <a href="http://openwrt.org/">OpenWRT</a> por la gente de FON, pero al fin y al cabo es un GNU/Linux. Además, cuenta con un puerto serie, lo cual es una buena noticia porque nos permite interactuar con el mundo externo de una forma muy sencilla. De momento lo vamos a usar para acceder a la consola del sistema. Al contrario de lo que muchos piensan, usar un emulador de terminal con ese puerto serie no es ni mucho menos tener acceso SSH.

El <a href="http://es.wikipedia.org/wiki/Secure_Shell">SSH (Secure SHell)</a> es un protocolo de comunicaciones que permite el control remoto de forma segura (entre otras muchas cosas). Lo que usamos nosotros es simplemente una consola del sistema (como cuando accedemos en un terminal real). El kernel de la fonera está configurado de forma que los mensajes se envíen al puerto serie. Además, se arranca una shell para ese mismo puerto que permite la interacción con el sistema. Es una consola como las de toda la vida.

Nosotros, simplemente tenemos que conectar un puerto serie de nuestro PC con el de la fonera. Bueno, realmente es un poco menos sencillo, por el hecho de que nuestro puerto serie sigue la norma <a href="http://es.wikipedia.org/wiki/RS232">RS232</a> con respecto a los niveles de tensión, mientras que el de la fonera no (usa niveles convencionales TTL). Luego, necesitamos <i>algo</i> que "adapte" entre los niveles RS232 y TTL. Este <i>algo</i> es un circuto, más o menos complejo. 

Existen múltiples versiones. Una de ellas es la conexión directa. Actualmente, las <a href="http://es.wikipedia.org/wiki/UART">UART</a> de los PC's soportan los niveles TTL sin mucho problema. Otra opción es diseñar un circuito basado en transistores y diodos que haga el trabajo. Sin duda, puede ser una buena opción... a menos que quieras/puedas usar los integrados que existen a tal fin.

La "mejor" (depende de las circunstancias) versión de este adaptador es usar un conversor de niveles integrado. El más conocido es el <a href="http://www.google.es/search?q=max232">MAX232</a>. Es un integrado de 16 pines que necesita varios condensadores para trabajar. Otro modelo menos conocido pero quizá más sencillo de usar es el <a href="http://www.google.es/search?q=ds275">DS275</a>. Es un integrado más pequeño, solo tiene 8 pines, que se conecta directamente, por lo que usarlo es sencillisimo. Es el que vamos a emplear aquí.

<h2>El adaptador</h2>
Como siempre, antes de usar ningún integrado, recomiendo leerse el <i>datasheet</i> correspondiente. Si ya lo has hecho, podemos continuar... :-) 

El puerto serie del PC tiene un montón de señales que no nos interesan ahora. Son 9 pines (en un DB9 claro) de los cuales solo vamos a emplear 3, a saber:

<pre>
PIN: 2 -&gt; RxD
     3 -&gt; TxD
     5 -&gt; GND
</pre>

El RxD es el encargado de la recepción de los datos, el TxD de la transmisión  y el GND sólo es la referencia de las señales (GrouND). Sucede lo mismo con el serie de la fonera, solo que en este caso, vamos a usar un pin más: el de 3.5 V de referencia para el integrado. No te preocupes si parece mucho lio, al final lo verás muy claro.

Resumiendo: tenemos en el puerto serie del PC 3 pines a usar y en el de la fonera 4 pines. Los de la fonera son como sigue: 

<pre>
| GND  #  RxD  TxD  #
| Vcc  #   #    #   #
</pre>

visto de tal forma que a la izquierda tengamos inmediatamente el borde de la placa. Mmm... quizá una imagen valga más que mil palabras...

<a href='http://arco.esi.uclm.es/~oscar.acena/images/zocalo.png' title='Zocalo serie de la fonera'><img src='http://arco.esi.uclm.es/~oscar.acena/images/zocalo.mini.png' alt='Zocalo serie de la fonera' /></a>

Bien, veamos ahora el integrado que usaremos:

<a href='http://arco.esi.uclm.es/~oscar.acena/images/ds275.png' title='esquema ds275'><img src='http://arco.esi.uclm.es/~oscar.acena/images/ds275.mini.png' alt='esquema ds275' /></a>

Y ahora las conexiones que vamos a hacer... mejor una explicación gráfica:

<a href='http://arco.esi.uclm.es/~oscar.acena/images/esquema.png' title='conexiones fonera-PC con un ds275'><img src='http://arco.esi.uclm.es/~oscar.acena/images/esquema.mini.png' alt='conexiones fonera-PC con un ds275' /></a>

Y por último todo el invento montado:

<a href='http://arco.esi.uclm.es/~oscar.acena/images/fonera-serie.jpg' title='Fonera con puerto serie'><img src='http://arco.esi.uclm.es/~oscar.acena/images/fonera-serie.mini.jpg' alt='Fonera con puerto serie' /></a>

<h2>Probando</h2>

Y ya está. Podemos conectar el puerto serie a la fonera y arrancar un programa de emulación de terminal en ese mismo puerto. Existe uno muy interesante llamado minicom ($ man minicom) que funciona muy bien. Configúralo para que escuche en el puerto serie de tu PC, y como parámetros: 9600 8N1 (es decir 9600 Bps, 8 bits de datos, sin paridad y 1 bit de stop). 

<b>NOTA</b>: No te fíes del estado del minicom, que muestra siempre desconectado. Esto te sería util si usaras un dispositivo de red orientado a conexión, pero usas un puerto serie, de tipo caracter que se comporta como un flujo de datos.

Bien, ahora que lo tienes todo listo, arranca la fonera. Espera unos segundos y empezarás a ver el arranque del kernel. ¡Enhorabuena! Ya tienes acceso a la consola de tu fonera.

Si no ves nada en un rato, es probable que hayas metido la pata. Lo siento. Repasa las conexiones con cuidado. Si sigues teniendo problemas, busca ayuda. En internet hay mucha información al respecto. 

<h2>Referencias</h2>
<ol>
<li><a href="http://wiki.openwrt.org/OpenWrtDocs/Hardware/Fon/Fonera">OpenWRT y la Fonera</a></li>
<li><a href="http://www.kmitl.ac.th/%7Ekswichit/MAX232/MAX232.htm">RS232C Level Converter</a></li>
</ol>

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/2007-05-17/cairo-tutorial-en-castellano">Cairo: tutorial en castellano</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-17
    
      
  <a href="/users.html#oscarah">
   oscarah
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-17-cairo-tutorial-en-castellano.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-17-cairo-tutorial-en-castellano.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
  




       
       


  
    
    	<li><a href="/tags.html#graphics-ref">graphics </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/688">node/688</a>
   </span>
   

</div>




  <div class="content">
    
      Estaba pensando hacer una recetilla sobre Cairo y Gtk, algo sencillo, transparencias (adiós) y demás, pero me he encontrado a alguien... ¡que ya lo ha hecho! Increíble en estos tiempos... :-p Así que me limito a poner el enlace de su artículo, por si a alguien le interesa:


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/2007-05-17/cairo-tutorial-en-castellano">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/event/2007-05-15/conferencia-sobre-software-libre">"Conferencia sobre Software Libre"</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-15
    
      
  <a href="/users.html#david_villa">
   david.villa
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-15-conferencia-sobre-software-libre.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-15-conferencia-sobre-software-libre.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#event-ref">
    		event
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#proselitism-ref">proselitism </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/686">node/686</a>
   </span>
   

</div>




  <div class="content">
    
      <p>Los responsables de la oficina electoral &#8220;nuevos tiempos&#8221; nos han invitado a dar una charla sobre software libre. Ellos lo han llamado &#8220;conferencia&#8221; aunque mi idea es que sea mucho menos formal y mucho más participativo que una &#8220;conferencia&#8221;, pero vale, intentaremos que lo parezca.</p>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/event/2007-05-15/conferencia-sobre-software-libre">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-05-15/ajustes-al-tinyos-2">Ajustes al tinyOS 2</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-15
    
      
  <a href="/users.html#javieralso">
   javieralso
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-15-ajustes-al-tinyos-2.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-15-ajustes-al-tinyos-2.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#embedded-ref">embedded </a></li>
    
    	<li><a href="/tags.html#Arco-ref">Arco </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/687">node/687</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>Algunos parámetros que hay que configurar (modificando las librerías) para que las aplicaciones escritas en <b>tinyOS 2</b> funcionen bien y/o se adapten a tus necesidades específicas.
</blockquote>


<h2>Frecuencia de transmisión/Recepción de la radio</h2>

Los dispositivos que utilizan el chip de radio <a href="http://www.chipcon.com/index.cfm?kat_id=2&subkat_id=12&dok_id=14">cc1000</a> de <a href="http://www.chipcon.com">Chipcon</a> pueden no funcionar bien en <b>tinyOS 2</b> debido a que en las motas, estos chips deben estar configurados para funcionar en el rango de <b>915 a 998 MHz</b> y por defecto no es así. La forma de solucionar ésto es editando el archivo <em>CC1000Const.h</em>. Suponiendo que tienes el árbol de tinyOS instalado en <em>/opt/tinyos-2.x/</em>, deberás modificar el archivo <em>/opt/tinyos-2.x/tos/chips/cc1000/CC1000Const.h</em> y hacer que la macro que define la constante <em>CC1K_DEF_PRESET</em> quede de la siguiente forma:

<pre>
#ifndef CC1K_DEF_PRESET
#define CC1K_DEF_PRESET	(CC1K_915_998_MHZ)
#endif 
</pre>

De éste modo, en los futuros programas, la radio se configurará para funcionar a la frecuencia correcta.

<h2>Longitud del campo de datos en la estructura <tt>message_t</tt></h2>

La estructura <a href="http://www.tinyos.net/tinyos-2.x/doc/html/tep111.html"><em>message_t</em></a> proporciona una abstracción para enviar y recibir mensajes a través de la radio o del puerto serie. El campo de datos de ésta estructura, tiene una longitud máxima prefijada de 28 Bytes, que en muchos casos puede ser mas que suficiente, pero en otras ocasiones podemos quedarnos cortos. 

Para solucionar ésto, debemos pasar a <em>nesC</em> el flag <em>DTOSH_DATA_LENGTH</em> para indicar la longitud máxima que queremos que tenga dicho campo de datos.

La forma de hacer ésto es editando el fichero <tt>Makefile</tt> de tu proyecto añadiendo lo siguiente:

<pre>
<b>NESC_FLAGS ?= -DTOSH_DATA_LENGTH=250</b>

COMPONENT=sampleApp
include $(MAKERULES)
</pre>

No suele ser recomendable definir una longitud mayor que esa, ya que puede haber problemas de compilación.

<h2>Instalación de librerías propias</h2>

Si tenemos pensado escribir nuestros propios módulos e interfaces, como se explica en una <a href="http://crysol.inf-cr.uclm.es/node/677">receta</a> publicada también en éste portal, podemos guardarlos todos bajo un mismo directorio (por ejemplo <em>~/tinyOS_libs/</em>) y a continuación hacer lo siguiente para que el compilador sepa encontrar dicha librería:

Editamos el archivo <tt>Makefile</tt> de tu proyecto para hacer que incluya el directorio de tu librería:

<pre>
<b>NESC_FLAGS ?= -I ~/tinyOS/libs/</b>

COMPONENT=sampleApp
include $(MAKERULES)
</pre>

Con esto, cuando compiles, se buscarán las librerías también en ese directorio.

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-05-14/webcams-usb-y-linux">Webcams USB y Linux</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-14
    
      
  <a href="/users.html#int-0">
   int-0
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-14-webcams-usb-y-linux.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-14-webcams-usb-y-linux.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#drivers-ref">drivers </a></li>
    
    	<li><a href="/tags.html#linux (the kernel of course)-ref">linux (the kernel of course) </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/681">node/681</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>Hola majetes! Supongo que todos vosotros tendréis webcams y quizá hayáis probado a enchufarlas en vuestras distros y... ohhh... desilusión... el linux no la pilla! (Si tenemos Debian es peor todavía porque de serie apenas tenemos módulos adecuados). No hay que preocuparse... vamos a hablar de unos cuantos módulos que hay por ahí con los que, en total, tendremos soporte para varios cientos de cámaras. No quiero decir que estén todos los que hay, pero al menos sí algunos de los más importantes.</blockquote>


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/recipe/2007-05-14/webcams-usb-y-linux">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/new/2007-05-14/un-milln-de-gracias">Un millón de gracias</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-14
    
      
  <a href="/users.html#magmax">
   magmax
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-14-un-milln-de-gracias.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-14-un-milln-de-gracias.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#new-ref">
    		new
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/682">node/682</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>
Ayer, domingo 13 de mayo, cerca de las 12 de la noche, superamos el millón de visitas (según nuestro contador).
</blockquote>


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/new/2007-05-14/un-milln-de-gracias">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-05-14/gnu-emacs-mejorando-tabbar">GNU Emacs: Mejorando Tabbar</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-14
    
      
  <a href="/users.html#magmax">
   magmax
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-14-gnu-emacs-mejorando-tabbar.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-14-gnu-emacs-mejorando-tabbar.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#emacs-ref">emacs </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/683">node/683</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>
Ya vimos cómo <a href="http://crysol.inf-cr.uclm.es/node/554">Añadir pestañas a Emacs</a>. Ahora veremos cómo cambiar las agrupaciones.
</blockquote>

<h2>Ingredientes</h2>

Nuevamente, <b>Emacs</b> y <b>emacs-goodies-el</b>.

<h2>Agrupaciones</h2>

A menudo me ha ocurrido que he tenido que abrir ficheros Makefile. Realmente es un fastidio que tabbar agrupe por extensiones: a mí me gustaría tener disponibles mi Makefile, los .C y los .CPP que utilizo constantemente.

Hoy editaremos a mano, una vez más, nuestro queridísimo .emacs (_emacs para los Windozes). Ahí va un ejemplo de hacer lo que he descrito:

<pre>(defun tabbar-buffer-groups (buffer)
  (with-current-buffer (get-buffer buffer)
    (cond
     ((eq major-mode 'dired-mode) '("Main") )
     ((memq major-mode '(c-mode c++-mode makefile-mode)) '("Coding") )
     )
    )
  )
</pre>

Claro, que suele ser un fastidio tener todas las pestañitas ésas: scratch, Messages, ... Ahí va mi configuración:
<pre>
(defun tabbar-buffer-groups (buffer)
  "Return the list of group names BUFFER belongs to.
Return only one group for each buffer."
  (with-current-buffer (get-buffer buffer)
    (cond
     ((member (buffer-name) '("*scratch*")) '("Misc") )
     ((member (buffer-name) '("*Messages*")) '("Misc") )
     ((member (buffer-name) '("*Completions*")) '("Misc") )
     ((member (buffer-name) '("*Ediff Registry*")) '("Misc") )
     ((eq major-mode 'dired-mode) '("Main") )
     ((memq major-mode '(c-mode c++-mode makefile-mode)) '("Coding") )
     (t '("Main") )
     )
    )
  )
</pre>

Como podéis ver, tengo 3 grupos principales: Misc, Coding y Main. Por defecto lo mete todo en "Main", salvo los ficheros de c, c++ y Makefiles que son "Coding", y los buffers habituales van a "Misc".

Con esta base y un poco de imaginación, se pueden hacer muchas cosas muy apañadas...

<h2>Referencias</h2>

<a href="http://www-cdf.fnal.gov/~sthrlnd/emacs_help.html">Mike's Emacs Help Page</a> (y ese Mike no soy yo :D).

<h2>Próxima semana:</h2>

Bueno... Podéis observar que he roto lo habitual de escribir cada semana. A parte de que estoy muy liado, ¡se me están acabando las ideas!. 

David ha proporcionado unos cuantos TES y Brue también ha puesto su granito de arena. Si alguien más participa, ¡estupendo! pero, por mi parte, se acaban los TES. 

De todas maneras, podéis poner vuestros trucos y marcarlos como "emacs" en la pestaña "Tema". Siempre son bienvenidos ;)

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/new/2007-05-12/otra-de-linus">Otra de Linus</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-12
    
      
  <a href="/users.html#int-0">
   int-0
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-12-otra-de-linus.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-12-otra-de-linus.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#new-ref">
    		new
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/679">node/679</a>
   </span>
   

</div>




  <div class="content">
    
      Leyendo y buscando información sobre Qt me encuentro con este interesante enlace en la página de TrollTech (los que hacen Qt):


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/new/2007-05-12/otra-de-linus">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/opinion/2007-05-10/soy-famoso">Soy famoso!</a></h2>

  <div class="header">
  <span class="submitted">
    2007-05-10
    
      
  <a href="/users.html#darkgnu">
   darkgnu
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-05-10-soy-famoso.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-05-10-soy-famoso.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#opinion-ref">
    		opinion
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/673">node/673</a>
   </span>
   

</div>




  <div class="content">
    
      Hola amigos... aquí estoy, desde un lugar de la Mancha que la gente por lo visto SI recuerda }:-).


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/opinion/2007-05-10/soy-famoso">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  

  <div class="pagination pagination-centered">
  <ul>

  
    <li class="prev"><a href="/" title="first page">&laquo;</a></li>
    <li class="prev" title="previous page">
      
        <a href="/page65">&lsaquo;</a>
      
    </li>
  

  <li><a>Page: 66 of 118</a></li>

  
    <li class="next" title="next page">
      <a href="/page67">&rsaquo;</a>
    </li>
    <li class="next"><a href="/page118" title="last page">&raquo;</a></li>
  

  </ul>
</div>



</div>

	</div>
      </div>

      <hr/>

      <footer>
        <p>&copy; 2013 CRySoL
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>.
	  See <a href="https://github.com/CRySoL/web.source" target="_blank">site sources</a>.
	  <br/>
	  Generated at Wed Dec 04 18:48:58 +0100 2013
	</p>
      </footer>

    </div>

    
  </body>
</html>

