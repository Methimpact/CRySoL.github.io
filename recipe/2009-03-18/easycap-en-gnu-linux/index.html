
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>EasyCAP en GNU/Linux</title>
    
    <meta name="author" content="CRySoL">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/main.js"></script>

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/stylesheets/pygment_trac.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    

  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-narrow">
<!--
	  <a class="brand-image" href="/"><img class="brand-image" src="/assets/themes/twitter/logo.png"/></a>
-->
          <a class="brand" href="/">CRySoL</a>
          <ul class="nav">
            
            
            


  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/recipes.html">Recipes</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/users.html">Users</a></li>
      	
      
    
  
    
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="row-fluid">
	<div class="content">
          
<div class="sidebar span3">
  <div id="logo">
  <a href="/">
    <img src="/assets/images/logo.png" alt="logo"/>
  </a>
</div>

  <div class="metadata">
  <h2>this</h2>
  <ul>
    
      <li>author: 
  <a href="/users.html#oscarah">
   oscarah
  </a>


        
        <span class="author-photo">

  
    <img src="/assets/files/pictures/picture-111.gif" width="48" alt="picture"/>
  

</span>

      </li>
      
    

    <li>created: 2009-03-18 </li>

    <li><a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2009-03-18-easycap-en-gnu-linux.textile">source / <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2009-03-18-easycap-en-gnu-linux.textile">edit</a></li>

  
    <li>categories:
    
      <a href="/categories.html#recipe-ref">recipe</a>
    
    </li>
  

  
      <li>migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/1103">node/1103</a></li>
  

  
    <li>tags:
    
      <a href="/tags.html#multimedia-ref">multimedia</a>
    
      <a href="/tags.html#drivers-ref">drivers</a>
    
      <a href="/tags.html#Debian-ref">Debian</a>
    
    </li>
  
  </ul>

  
     
     
  

  
     
     
  
     
     
  
     
     
     <a class="tag-icon" href="/tags.html#Debian-ref">
        <img src="http://crysol.org/files/category_pictures/debian.png" title="Debian" alt="Debian-icon"/>
     </a>
     
  

  <!-- AddThis Button BEGIN -->
<div class="share addthis_toolbox addthis_default_style addthis_16x16_style">
<a class="addthis_button_google_plusone_share"></a>
<a class="addthis_button_twitter"></a>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51cdd0d57c014017"></script>
<!-- AddThis Button END -->

</div>

<div class="related">
  <h2>related</h2>
  <ul>
    
    <li><a href="/recipe/2005-09-13/ssh-y-scp-para-acceder-a-equipos-remotos-sin-escribir-la-clave-public-key-authentication">SSH y SCP para acceder a equipos remotos sin escribir la clave (public key authentication)</a></li>
    
    <li><a href="/2005-09-24/acabo-de-registrarme-en-el-portal">Acabo de registrarme en el Portal</a></li>
    
    <li><a href="/2005-09-26/buenas-a-tods">Buenas a tod@s!</a></li>
    
    <li><a href="/tale/2005-09-26/instalacin-local-de-mambo-joomla-bajo-gnu-linux">Instalación local de Mambo / Joomla bajo GNU/Linux</a></li>
    
    <li><a href="/recipe/2005-09-27/acceso-a-red-cmpus-con-firefox-y-greasemonkey">Acceso a Red C@mpus con Firefox y Greasemonkey</a></li>
    
  </ul>
</div>

<div class="recent">
  <h2>recent</h2>
  <ul>
  
    <li><a href="/recipe/2013-10-05/virtualbox-import-export-clone">VirtualBox: import/export and cloning machines</a></li>
  
    <li><a href="/recipe/2013-09-23/virtualbox-vmdk-to-vdi">Converting .vmdk virtual disk to .vdi format from command line</a></li>
  
    <li><a href="/recipe/2013-09-19/ice35-deb-packages-from-zeroc">Installing the Ice-3.5 packages from ZeroC on Debian</a></li>
  
    <li><a href="/recipe/2013-09-03/DSO">Undertanding the DSO Link Change</a></li>
  
    <li><a href="/recipe/2013-08-11/hp-p1005-debian">HP LaserJet P1005 with Debian and the free driver</a></li>
  
  </ul>
</div>

</div>

<div class="node span9">
  <div class="page-header">
    <h1>EasyCAP en GNU/Linux </h1>
  </div>

  <div class="row-fluid post-full">
    <div class="span12">
      <div class="content">
	<p>Veamos como instalar el driver que da soporte a los dispositivos que utilizan los chipsets de la familia stk11xx, de Syntek Semicon, en concreto, para el EasyCAP <span class="caps">USB</span>.</p>
<p><!--break--></p>
<p>Hace poco necesité adquirir vídeo de una fuente analógica. Buscando por internet, me encontré con un chisme que parecía suplir mis necesidades. Se llamaba concretamente &#8220;EasyCAP 4-Channel 4-Input <span class="caps">USB</span> 2.0 <span class="caps">DVR</span> Video Capture/Surveillance Dongle&#8221; (EasyCAP para los amigos ;-)), pero no había mucha más información sobre él. Lo encontré en <a href="http://">dealextreme.com</a><a href="http://www.dealextreme.com/">www.dealextreme.com/</a>, y terminé comprándolo, porque de lejos, era la opción más barata (me salió por unos 11 €, portes gratuitos). No esperaba mucho del chisme, simplemente con que funcionara&#8230; <br />
Y funcionó&#8230; bueno, más o menos. :p</p>
<p>Cuando llegó, traía un CD con drivers para otros sistemas operativos, que fue lo primero que deseché ;-) El chisme, por cierto, es como un pincho <span class="caps">USB</span> gris, con 5 cables que terminan en sendas clavijas <span class="caps">RCA</span>-f (hembra): 4 de vídeo (amarillas) y 1 de audio (blanca).</p>
<p>Tras desembalarlo, lo primero fue enchufarlo en mi Debian, a ver que me contaba Linux. No esperaba que funcionara directamente, ni de lejos. Me salió algo así:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go">[ 2517.072014] usb 1-2: new high speed USB device using ehci_hcd and address 5</span>
<span class="go">[ 2517.204916] usb 1-2: configuration #1 chosen from 1 choice</span>
<span class="go">[ 2517.216239] usb 1-2: New USB device found, idVendor=05e1, idProduct=0408</span>
<span class="go">[ 2517.216247] usb 1-2: New USB device strings: Mfr=1, Product=2, SerialNumber=0</span>
<span class="go">[ 2517.216251] usb 1-2: Product: USB 2.0 Video Capture Controller</span>
<span class="go">[ 2517.216254] usb 1-2: Manufacturer: Syntek Semiconductor</span>
</code></pre></div></div>
<p>Bueno, algo es algo. Me dice que tiene un chip Syntek, con <span class="caps">USB</span> ID 05e1:0408. Perfecto. Una búsqueda rápida (bueno, la verdad es que me tiré un buen rato :p) me lleva a descubrir que el chip que monta es un stk1160. Más google y descubro que hay un driver para unas webcam de Syntek, en concreto para las DC-1125 y las <span class="caps">STK</span>-1135. Mmm, quizá tenga soporte. Busco un poco más, y me doy de bruces con este hilo: <a href="http://sourceforge.net/projects/syntekdriver/forums/forum/616182/topic/2803299">STK1160 Support</a>, Bien, algo de esperanza. Es un parche para el driver stk11xx, escrito por Ivor Hewitt. Lo probé, y funcionó regularmente. Es muy experimental, y muy joven, pero funciona. En esta receta describo un poco cómo instalarlo. Hay dos formas: compilar el código o instalar el paquete.</p>
<p><strong><span class="caps">ADVERTENCIA</span></strong>: El autor del driver dice:<br />
<em>The syntek [&#8230;] driver [&#8230;] is currently being developed on Linux. This driver can do damages. Use this driver only if you know what you are doing.</em></p>
<p>Y yo añado que <strong>no</strong> me hago responsable de nada de lo que pueda pasar si sigues esta receta. En mi caso, el driver funciona. No puedo asegurar nada más. Es un módulo del kernel, por lo que puede producir &#8216;kernel panics&#8217; y dejar congelado tu PC. Avisado quedas :p</p>
<h3>Desde el código</h3>
<p>Lo que vas a hacer es compilar el código fuente del driver para tu sistema. Está escrito en C, y depende de una versión del kernel bastante moderna, a partir de la 2.6.28 (en el foro hay un parche para compilar en versiones anteriores del kernel), por lo que necesitas los siguientes paquetes:</p>
<ul>
	<li>build-essential</li>
	<li>linux-image-2.6.28</li>
	<li>linux-headers-2.6.28</li>
</ul>
<p>Estos están disponibles en las distribuciones Debian actuales (si tienes problemas con linux-kbuild, he compilado y empaquetado la versión 2.6.28, está disponible en el repo citado en la siguiente sección).</p>
<p>La mejor opción es tirar del repositorio de svn para bajarse las fuentes. Algo así:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go"> ~$ svn co https://syntekdriver.svn.sourceforge.net/svnroot/syntekdriver/trunk/driver syntekdriver</span>
</code></pre></div></div>
<p>Ahora nos descargamos el parche antes mencionado, y lo aplicamos</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go"> ~$ cd syntekdriver</span>
<span class="go"> syntekdriver$ wget http://www.ivor.org/stk0408-1.patch</span>
<span class="go"> [...]</span>
<span class="go"> syntekdriver$ patch -i stk0408-1.patch</span>
<span class="go"> [...]</span>
</code></pre></div></div>
<p>Listo, ahora toca compilar. El fichero Makefile tiene un pequeño error, pero no afecta a la compilación del módulo:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go"> ~$ make -f Makefile.standalone</span>
<span class="go"> [...]</span>
<span class="go">ctags: no input files specified.</span>
<span class="go">	Try `ctags --help&#39; for a complete list of options.</span>
<span class="go">make: *** [driver] Error 1</span>
</code></pre></div></div>
<p>Puedes ignorar el error, pues el módulo se ha compilado perfectamente. Ya está, solo queda probarlo. Depende de otros módulos, en concreto de usbcore y de videodev. El probable que ya los tengas cargados, pero por si acaso&#8230;</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go"> ~$ sudo modprobe videodev</span>
<span class="go"> ~$ sudo modprobe usbcore</span>
<span class="go"> ~$ sudo insmod stk11xx.ko</span>
<span class="go"> ~$ dmesg | tail -n 15</span>
<span class="go">[ 5700.101573] usb 1-2: new high speed USB device using ehci_hcd and address 6</span>
<span class="go">[ 5700.232899] usb 1-2: configuration #1 chosen from 1 choice</span>
<span class="go">[ 5700.242794] stk11xx: Probe function called with VendorID=05E1, ProductID=0408 and InterfaceNumber=0</span>
<span class="go">[ 5700.242800] stk11xx: Syntek USB2.0 - STK-1160 based device found.</span>
<span class="go">[ 5700.242804] stk11xx: Syntek AVStream USB2.0 Video Capture - Product ID 0x0408.</span>
<span class="go">[ 5700.242808] stk11xx: Release: 0005</span>
<span class="go">[ 5700.242810] stk11xx: Number of interfaces : 3</span>
<span class="go">[ 5700.243331] stk11xx: Initialize USB2.0 Syntek Capture device</span>
<span class="go">[ 5700.461080] stk11xx: SET FEATURE</span>
<span class="go">[ 5700.461086] stk11xx: Syntek USB2.0 Capture device is ready</span>
<span class="go">[ 5700.461200] stk11xx: Syntek USB2.0 Camera is now controlling video device /dev/video0</span>
<span class="go">[ 5700.468901] usb 1-2: New USB device found, idVendor=05e1, idProduct=0408</span>
<span class="go">[ 5700.468909] usb 1-2: New USB device strings: Mfr=1, Product=2, SerialNumber=0</span>
<span class="go">[ 5700.468913] usb 1-2: Product: USB 2.0 Video Capture Controller</span>
<span class="go">[ 5700.468916] usb 1-2: Manufacturer: Syntek Semiconductor</span>
</code></pre></div></div>
<p>La ultima ejecución de &#8216;dmesg&#8217; retorna los mensajes producidos al conectar el dispositivo. Vemos que hay un nuevo <em>device</em> en /dev/video0 listo para ser usado. Lo podemos probar con cualquier cosa que utilice V4L2, por ejemplo con mplayer, con la línea siguiente:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go"> ~$ mplayer tv:// -tv driver=v4l2:device=/dev/video0</span>
</code></pre></div></div>
<p>Como verás, consume bastante <span class="caps">CPU</span>, y la calidad no es de lo mejor, pero funciona. Hay que tener en cuenta que el driver es muy joven (apenas cuenta con 3 meses de vida!!). Por supuesto, cualquier contribución es bienvenida: parches, pruebas, etc. ;-)</p>
<h3>Paquete Debian</h3>
<p><strong>Nota</strong>: este paquete ya no está disponible. Siento las molestias.</p>
<p>Para no recompilar el driver en cada máquina que pueda usar este trasto, y para aquellos que lo deseen, lo he empaquetado para Debian. Está disponible en mi repositorio personal, que se puede utilizar añadiendo la siguiente línea en el fichero <em>/etc/apt/sources.list</em>:</p>
<div>
<div class="highlight"><pre><code class="text">deb http://lamport.mine.nu/debian binary/
</code></pre></div></div>
<p>Luego, actualizas la lista de paquetes, y lo instalas como de costumbre (en el ejemplo uso apt-get). Aquí, las dependencias se suelen satisfacer solas&#8230; :p :</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go"> ~$ sudo apt-get update</span>
<span class="go"> ~$ sudo apt-get install stk11xx-modules</span>
<span class="go"> [...]</span>
</code></pre></div></div>
<p>Y listo. Conecta el chisme y a rular! :-o</p>
<h3>Referencias</h3>
<ul>
	<li><a href="http://">Google</a><a href="http://www.google.es">www.google.es</a> ;-)</li>
	<li><a href="https://sourceforge.net/forum/forum.php?thread_id=2803299&amp;forum_id=616182">STK1160 Support</a></li>
	<li><a href="http://syntekdriver.sourceforge.net/">Syntek Driver web page</a></li>
</ul>
      </div>

      

      <hr/>

      <div class="pagination pagination-centered">
  <ul>
    
      <li class="prev"><a href="/2009-03-11/de-qu-me-suena" title="¿De qué me suena?">&larr; Previous</a></li>
    

    <li><a href="/archive.html">Archive</a></li>

    
      <li class="next"><a href="/recipe/2009-04-10/subttulos-fuera-de-la-imagen-en-mplayer" title="Subtítulos fuera de la imagen en mplayer">Next &rarr;</a></li>
    
  </ul>
</div>


      <hr/>

      

<div id="show_comments"> [ <a onclick="show_comments();"> show comments </a> ] </div>


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'crysol'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>






    </div>
  </div>
</div>


	</div>
      </div>

      <hr/>

      <footer>
        <p>&copy; 2013 CRySoL
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>.
	  See <a href="https://github.com/CRySoL/CRySoL.github.io" target="_blank">site sources</a>.
	  <br/>
	  Generated at Thu Oct 10 02:38:04 +0200 2013
	</p>
      </footer>

    </div>

    
  </body>
</html>

