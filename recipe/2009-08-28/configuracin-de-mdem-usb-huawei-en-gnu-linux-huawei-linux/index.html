
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Configuración de módem USB Huawei en GNU/Linux (Huawei Linux)</title>
    
    <meta name="author" content="CRySoL">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/main.js"></script>

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/stylesheets/pygment_trac.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    

  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-narrow">
<!--
	  <a class="brand-image" href="/"><img class="brand-image" src="/assets/themes/twitter/logo.png"/></a>
-->
          <a class="brand" href="/">CRySoL</a>
          <ul class="nav">
            
            
            


  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/recipes.html">Recipes</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/users.html">Users</a></li>
      	
      
    
  
    
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="row-fluid">
	<div class="content">
          
<div class="sidebar span3">
  <div id="logo">
  <a href="/">
    <img src="/assets/images/logo.png" alt="logo"/>
  </a>
</div>

  <div class="metadata">
  <h2>this</h2>
  <ul>
    
      <li>author: 
  <a href="/users.html#javieralso">
   javieralso
  </a>


        
        <span class="author-photo">

  <img src="http://www.gravatar.com/avatar/224f22eebba5a0b9381242cda877fbcc?s=48" alt="gravatar"/>

</span>

      </li>
      
    

    <li>created: 2009-08-28 </li>

    <li><a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2009-08-28-configuracin-de-mdem-usb-huawei-en-gnu-linux-huawei-linux.html">source / <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2009-08-28-configuracin-de-mdem-usb-huawei-en-gnu-linux-huawei-linux.html">edit</a></li>

  
    <li>categories:
    
      <a href="/categories.html#recipe-ref">recipe</a>
    
    </li>
  

  
      <li>migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/1217">node/1217</a></li>
  

  
    <li>tags:
    
      <a href="/tags.html#networking-ref">networking</a>
    
      <a href="/tags.html#drivers-ref">drivers</a>
    
      <a href="/tags.html#Debian-ref">Debian</a>
    
    </li>
  
  </ul>

  
     
     
  

  
     
     
     <a class="tag-icon" href="/tags.html#networking-ref">
        <img src="http://crysol.org/files/category_pictures/networking.png" title="networking" alt="networking-icon"/>
     </a>
     
  
     
     
  
     
     
     <a class="tag-icon" href="/tags.html#Debian-ref">
        <img src="http://crysol.org/files/category_pictures/debian.png" title="Debian" alt="Debian-icon"/>
     </a>
     
  

  <!-- AddThis Button BEGIN -->
<div class="share addthis_toolbox addthis_default_style addthis_16x16_style">
<a class="addthis_button_google_plusone_share"></a>
<a class="addthis_button_twitter"></a>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51cdd0d57c014017"></script>
<!-- AddThis Button END -->

</div>

<div class="related">
  <h2>related</h2>
  <ul>
    
    <li><a href="/recipe/2005-09-13/ssh-y-scp-para-acceder-a-equipos-remotos-sin-escribir-la-clave-public-key-authentication">SSH y SCP para acceder a equipos remotos sin escribir la clave (public key authentication)</a></li>
    
    <li><a href="/2005-09-24/acabo-de-registrarme-en-el-portal">Acabo de registrarme en el Portal</a></li>
    
    <li><a href="/2005-09-26/buenas-a-tods">Buenas a tod@s!</a></li>
    
    <li><a href="/tale/2005-09-26/instalacin-local-de-mambo-joomla-bajo-gnu-linux">Instalación local de Mambo / Joomla bajo GNU/Linux</a></li>
    
    <li><a href="/recipe/2005-09-27/acceso-a-red-cmpus-con-firefox-y-greasemonkey">Acceso a Red C@mpus con Firefox y Greasemonkey</a></li>
    
  </ul>
</div>

<div class="recent">
  <h2>recent</h2>
  <ul>
  
    <li><a href="/recipe/2013-09-23/virtualbox-vmdk-to-vdi">Converting .vmdk virtual disk to .vdi format from command line</a></li>
  
    <li><a href="/recipe/2013-09-19/ice35-deb-packages-from-zeroc">Installing the Ice-3.5 packages from ZeroC on Debian</a></li>
  
    <li><a href="/recipe/2013-09-03/DSO">Undertanding the DSO Link Change</a></li>
  
    <li><a href="/recipe/2013-08-11/hp-p1005-debian">HP LaserJet P1005 with Debian and the free driver</a></li>
  
    <li><a href="/recipe/2013-07-10/get-shell-user-without-shell">How to get a shell for a non-shell user</a></li>
  
  </ul>
</div>

</div>

<div class="node span9">
  <div class="page-header">
    <h1>Configuración de módem USB Huawei en GNU/Linux (Huawei Linux) </h1>
  </div>

  <div class="row-fluid post-full">
    <div class="span12">
      <div class="content">
	<blockquote>Si tienes una línea móvil de datos y un módem usb, tal vez te apetezca poder utilizarlo en tu <b>GNU/Linux</b>. Actualmente, los modems <a href="http://www.huawei.com">Huawei</a> son los mas utilizados para éste tipo de propósitos. Aquí explico lo que hay que hacer para poder dar soporte al modelo <a href="http://www.huawei.com/mobileweb/en/products/view.do?id=1960">Huawei E160</a>, un módem que por lo que he podido probar, funciona pero que muy bien bajo <b>GNU/Linux</b></blockquote>

<!--break-->



<h2>Empezando</h2>
¿Cómo saber si tu modem es el soportado? (bueno, en principio cualquier módem Huawei debería funcionar sin problemas). Sencillo, después de pinchar el módem en tu puerto USB y tras ejecutar <em>lsusb</em>, lo verás:

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@rigoberto:~$</span> Bus 001 Device 008: ID 12d1:1003 Huawei Technologies Co., Ltd. E220 HSDPA Modem / E270 HSDPA/HSUPA Modem
</code></pre></div>
</div>

Además, la salida de <em>dmesg</em> deberá mostrar algo como ésto:


<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@rigoberto:~$</span> dmesg
<span class="go">..............</span>
<span class="go">[ 4180.956314] usb 1-4.3: new high speed USB device using ehci_hcd and address 7</span>
<span class="go">[ 4181.067257] usb 1-4.3: New USB device found, idVendor=12d1, idProduct=1003</span>
<span class="go">[ 4181.067260] usb 1-4.3: New USB device strings: Mfr=2, Product=1, SerialNumber=0</span>
<span class="go">[ 4181.067262] usb 1-4.3: Product: HUAWEI Mobile</span>
<span class="go">[ 4181.067264] usb 1-4.3: Manufacturer: HUAWEI Technology</span>
<span class="go">[ 4181.067376] usb 1-4.3: configuration #1 chosen from 1 choice</span>
<span class="go">[ 4181.072393] usb-storage: probe of 1-4.3:1.0 failed with error -1</span>
<span class="go">[ 4181.179711] usb 1-4.3: USB disconnect, address 7</span>
</code></pre></div>
</div>

Este tipo de módems, además de su función principal (la de módem), también pueden utilizarse como lector de tarjetas microSD. El problema aquí, es que por lo que he visto, necesitan un driver muy específico para esto último y por eso, bajo <b>GNU/Linux</b> no lo he podido hacer funcionar. De todas formas, lectores de tarjetas microSD los hay a patadas, así que que no nos hace falta sobrecargar a nuestro pobre modem.
Lo que si que sucede, es que una vez que se conecta el módem al puerto USB, la configuración que se activa por defecto parece ser la del lector microSD, así que tendremos que cambiar esto para poder acceder al pincho como módem que es lo que nos interesa. Empecemos pues.

<h2>usb-modeswitch</h2>
<a href="http://www.draisberghof.de/usb_modeswitch/">usb-modeswitch</a> permite realizar exactamente lo que comentaba antes, es decir, cambiar la configuración seleccionada del módem para que pueda actuar como tal. Parece ser que es paquete <a href="www.debian.org">Debian</a>, así que si utilizas éste Sistema Operativo, ya sabes:

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@rigoberto:~$</span> apt-get install usb-modeswitch
</code></pre></div>
</div>

Además de usb-modeswitch, también necesitaremos <a href="http://ivman.sourceforge.net/">ivman</a> para poder detectar cuando se conecta el módem a nuestro equipo y autoconfigurarlo llamando a usb-modeswitch...

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@rigoberto:~$</span> apt-get install ivman
</code></pre></div>
</div>

<h2>Configurandolo todo</h2>
Una vez que ya lo tienes todo instalado, solo falta escribir un poco de configuración para que el módem eche a andar. Una de las primeras cosas que debemos hacer, es configurar ivman para que arranque automáticamente al iniciar sesión. Éso se puede hacer fácilmente desde <em>Sistema-->Preferencias-->Aplicaciones al inicio</em> (Supongo que utilizarás <a href="http://www.gnome.org/">gnome</a>). 
Después de ésto, abrimos el archivo <tt>$HOME/.ivman/IvmConfigActions.xml</tt>. Este archivo dice a ivman qué tiene que hacer según qué eventos detecte en la capa <a href="http://en.wikipedia.org/wiki/Hardware_abstraction_layer">HAL</a>. En nuestro caso, con añadir lo siguiente, debería ser mas que suficiente:


<div>
<div class="highlight"><pre><code class="xml"> <span class="c">&lt;!-- Change Huawei E160 Mode --&gt;</span>
    <span class="nt">&lt;ivm:Match</span> <span class="na">name=</span><span class="s">&quot;hal.storage.physical_device&quot;</span> <span class="na">value=</span><span class="s">&quot;/org/freedesktop/Hal/devices/usb_device_12d1_1003_noserial_if0&quot;</span><span class="nt">&gt;</span>
            <span class="nt">&lt;ivm:Option</span> <span class="na">name=</span><span class="s">&quot;exec&quot;</span> <span class="na">value=</span><span class="s">&quot;xterm -e $HOME/.e160.sh&quot;</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;/ivm:Match&gt;</span>
<span class="nt">&lt;/ivm:ActionsConfig&gt;</span>
</code></pre></div>
</div>

Con ésto, lo que se le dice a ivman es que cuando detecte el módem insertado (se puede ver en la tercera línea como en el valor para la clave <em>name</em> se compone el nombre con el vendorID = 0x12d1 y el productID = 0x1003, que se obtuvieron al ejecutar <em>lsusb</em>) ejecute el script <em>$HOME/.e160.sh</em>. En éste script están los comando para activar usb-modeswitch y hacer que configure correctamente el módem.

Dicho script tiene el siguiente contenido:

<div>
<div class="highlight"><pre><code class="bash"><span class="c">#!/bin/bash</span>

<span class="k">if</span> <span class="o">[</span> -z <span class="s2">&quot;`/bin/ls /dev/ttyUSB0`&quot;</span> <span class="o">]</span>; <span class="k">then</span>
<span class="k">        if</span> <span class="o">[</span> <span class="s2">&quot;`/usr/sbin/lsusb | grep 12d1 | cut -d : -f3 | cut -b -4`&quot;</span> <span class="o">=</span> <span class="s2">&quot;1003&quot;</span> <span class="o">]</span>; <span class="k">then</span>
<span class="c">#                /usr/bin/usb_modeswitch -v 12d1 -p 1003 -d 1</span>
                /usr/bin/usb_modeswitch -v 12d1 -p 1003 -H 1
        <span class="k">fi</span>
<span class="k">fi</span>
</code></pre></div>
</div>
No olvides darle permisos de ejecución después de editarlo.

En principio con ésto, el módem quedaría perfectamente configurado. Sería aconsejable reiniciar <em>gdm</em>, pues ivman crea su propio usuario y puede que no funcione correctamente hasta que no salgas y vuelvas a entrar al sistema (no hace falta reiniciar, que ésto es GNU/Linux :-P)

Si todo ha ido bien, cuando insertes el módem, dmesg te debería devolver algo como ésto:

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@rigoberto:~$</span> dmesg
<span class="go">..............</span>
<span class="go">[16197.508056] usb 2-6: new high speed USB device using ehci_hcd and address 12</span>
<span class="go">[16197.655583] usb 2-6: New USB device found, idVendor=12d1, idProduct=1003</span>
<span class="go">[16197.655590] usb 2-6: New USB device strings: Mfr=2, Product=1, SerialNumber=0</span>
<span class="go">[16197.655596] usb 2-6: Product: HUAWEI Mobile</span>
<span class="go">[16197.655600] usb 2-6: Manufacturer: HUAWEI Technology</span>
<span class="go">[16197.655756] usb 2-6: configuration #1 chosen from 1 choice</span>
<span class="go">[16197.742661] Initializing USB Mass Storage driver...</span>
<span class="go">[16197.743679] usb-storage: probe of 2-6:1.0 failed with error -1</span>
<span class="go">[16197.743727] usbcore: registered new interface driver usb-storage</span>
<span class="go">[16197.743732] USB Mass Storage support registered.</span>
<span class="go">[16197.744153] usb 2-6: USB disconnect, address 12</span>
<span class="go">[16205.112108] usb 2-6: new high speed USB device using ehci_hcd and address 13</span>
<span class="go">[16205.255571] usb 2-6: New USB device found, idVendor=12d1, idProduct=1003</span>
<span class="go">[16205.255578] usb 2-6: New USB device strings: Mfr=2, Product=1, SerialNumber=0</span>
<span class="go">[16205.255584] usb 2-6: Product: HUAWEI Mobile</span>
<span class="go">[16205.255588] usb 2-6: Manufacturer: HUAWEI Technology</span>
<span class="go">[16205.255737] usb 2-6: configuration #1 chosen from 1 choice</span>
<span class="go">[16205.262311] usb-storage: probe of 2-6:1.2 failed with error -1</span>
<span class="go">[16205.263306] usb-storage: probe of 2-6:1.3 failed with error -1</span>
<span class="go">[16205.343381] usbcore: registered new interface driver usbserial</span>
<span class="go">[16205.343408] USB Serial support registered for generic</span>
<span class="go">[16205.343497] usbcore: registered new interface driver usbserial_generic</span>
<span class="go">[16205.343501] usbserial: USB Serial Driver core</span>
<span class="go">[16205.354928] USB Serial support registered for GSM modem (1-port)</span>
<span class="go">[16205.355014] option 2-6:1.0: GSM modem (1-port) converter detected</span>
<span class="go">[16205.355174] usb 2-6: GSM modem (1-port) converter now attached to ttyUSB0</span>
<span class="go">[16205.355192] option 2-6:1.1: GSM modem (1-port) converter detected</span>
<span class="go">[16205.355278] usb 2-6: GSM modem (1-port) converter now attached to ttyUSB1</span>
<span class="go">[16205.355311] usbcore: registered new interface driver option</span>
<span class="go">[16205.355315] option: v0.7.2:USB Driver for GSM modems</span>
</code></pre></div>
</div>

Aquí se puede ver que el módem se detecta, se activa el soporte para almacenamiento masivo y después se cambia al modo módem.

<h2>Conectando a Internet</h2>
Bueno, pues ahora ya solo queda que te conectes a internet utilizando la compañia que mas te guste. Yo personalmente y llegados a éste punto, me leería un par de recetas pelín antiguas que explican como configurar las opciones de acceso a un operador concreto (en realidad es <a href="http://www.simyo.es">Simyo</a>) utilizando <a href="http://crysol.org/es/node/817">wvidial</a> o también <a href="http://crysol.org/es/node/934">gnome-ppp</a>.

Ahí se pueden ver las opciones de configuración para el operador dado. Si utilizas otro operador, el número de marcado y demás serán distintos, así que tendrás que ponerte en contacto con ellos para que te lo faciliten. Coser y cantar ;-)

<h2>Referencias</h2>
<ul>
<li><a href="http://blog.pew.cc/blog/Huawei+E160+and+Linux/">Huawei 160 y Linux</a></li>
<li><a href="http://www.draisberghof.de/usb_modeswitch/">Documentación de usb-modeswitch</a></li>
</ul>


      </div>

      

      <hr/>

      <div class="pagination pagination-centered">
  <ul>
    
      <li class="prev"><a href="/2009-08-21/utilizar-htc-magic-g2-como-mdem-en-debian-gnu-linux" title="Utilizar HTC Magic (G2) como módem en Debian GNU/Linux">&larr; Previous</a></li>
    

    <li><a href="/archive.html">Archive</a></li>

    
      <li class="next"><a href="/2009-08-29/atheist" title="Atheist">Next &rarr;</a></li>
    
  </ul>
</div>


      <hr/>

      

<div id="show_comments"> [ <a onclick="show_comments();"> show comments </a> ] </div>


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'crysol'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>






    </div>
  </div>
</div>


	</div>
      </div>

      <hr/>

      <footer>
        <p>&copy; 2013 CRySoL
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>.
	  See <a href="https://github.com/CRySoL/CRySoL.github.io" target="_blank">site sources</a>.
	  <br/>
	  Generated at Mon Sep 23 23:14:31 +0200 2013
	</p>
      </footer>

    </div>

    
  </body>
</html>

