
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    
    <meta name="author" content="CRySoL">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/main.js"></script>

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/stylesheets/pygment_trac.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    

  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-narrow">
<!--
	  <a class="brand-image" href="/"><img class="brand-image" src="/assets/themes/twitter/logo.png"/></a>
-->
          <a class="brand" href="/">CRySoL</a>
          <ul class="nav">
            
            
            


  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/recipes.html">Recipes</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/users.html">Users</a></li>
      	
      
    
  
    
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="row-fluid">
	<div class="content">
          


<div class="sidebar span3">
  <div id="logo">
  <a href="/">
    <img src="/assets/images/logo.png" alt="logo"/>
  </a>
</div>

  <div class="recent">
<h2>recent</h2>
<ul>

  <li><a href="/recipe/2013-10-21/git-remove-from-history">git: removing files from history</a></li>

  <li><a href="/recipe/2013-10-15/virtualbox-compact-vmdk-images">Compacting .vmdk virtual disk with VirtualBox</a></li>

  <li><a href="/recipe/2013-10-12/apt-pinning">Debian apt pinning</a></li>

  <li><a href="/recipe/2013-10-10/change-primary-monitor">Changing primary monitor</a></li>

  <li><a href="/recipe/2013-10-05/virtualbox-import-export-clone">VirtualBox: import/export and cloning machines</a></li>

</ul>
</div>

<div class="categories">
<h2>categories</h2>

<table class="categories">
<tr class="row1">
<td class="col1">
  <a href="javascript:window.location.href='/categories.html#opinion-ref'; hide_others()"
     title="66 posts"
     >opinion</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#offer-ref'; hide_others()"
     title="1 posts"
     >offer</a>
</td></tr>
<tr class="row2"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#cooking-ref'; hide_others()"
     title="23 posts"
     >cooking</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#new-ref'; hide_others()"
     title="167 posts"
     >new</a>
</td></tr>
<tr class="row3"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#tale-ref'; hide_others()"
     title="64 posts"
     >tale</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#quote-ref'; hide_others()"
     title="1 posts"
     >quote</a>
</td></tr>
<tr class="row4"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#art-ref'; hide_others()"
     title="9 posts"
     >art</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#enquiry-ref'; hide_others()"
     title="33 posts"
     >enquiry</a>
</td></tr>
<tr class="row5"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#event-ref'; hide_others()"
     title="16 posts"
     >event</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#script-ref'; hide_others()"
     title="15 posts"
     >script</a>
</td></tr>
<tr class="row6"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#challenge-ref'; hide_others()"
     title="11 posts"
     >challenge</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#humor-ref'; hide_others()"
     title="6 posts"
     >humor</a>
</td></tr>
<tr class="row7"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#recipe-ref'; hide_others()"
     title="587 posts"
     >recipe</a>
</td></tr>

</table>
</div>


<div class="tags">
<h2>tags</h2>

<table class="tags">
<tr class="row1">
<td class="col1">
  <a href="javascript:window.location.href='/tags.html#doublex-ref'; hide_others()"
     title="1 posts"
     >doublex</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#android-ref'; hide_others()"
     title="7 posts"
     >android</a>
</td></tr>
<tr class="row2"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#multimedia-ref'; hide_others()"
     title="24 posts"
     >multimedia</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#gnome-ref'; hide_others()"
     title="10 posts"
     >gnome</a>
</td></tr>
<tr class="row3"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#networking-ref'; hide_others()"
     title="76 posts"
     >networking</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#agile-ref'; hide_others()"
     title="1 posts"
     >agile</a>
</td></tr>
<tr class="row4"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Oreto-ref'; hide_others()"
     title="6 posts"
     >Oreto</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#patterns-ref'; hide_others()"
     title="6 posts"
     >patterns</a>
</td></tr>
<tr class="row5"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#sugarfree-ref'; hide_others()"
     title="4 posts"
     >sugarfree</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#drivers-ref'; hide_others()"
     title="31 posts"
     >drivers</a>
</td></tr>
<tr class="row6"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Debian-devel-ref'; hide_others()"
     title="13 posts"
     >Debian-devel</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#embedded-ref'; hide_others()"
     title="53 posts"
     >embedded</a>
</td></tr>
<tr class="row7"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#puppet-ref'; hide_others()"
     title="1 posts"
     >puppet</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#pdf-ref'; hide_others()"
     title="1 posts"
     >pdf</a>
</td></tr>
<tr class="row8"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#debian-ref'; hide_others()"
     title="1 posts"
     >debian</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#LaTeX-ref'; hide_others()"
     title="11 posts"
     >LaTeX</a>
</td></tr>
<tr class="row9"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#graphics-ref'; hide_others()"
     title="10 posts"
     >graphics</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Ice-ref'; hide_others()"
     title="16 posts"
     >Ice</a>
</td></tr>
<tr class="row10"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#gtk-ref'; hide_others()"
     title="11 posts"
     >gtk</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Molinux-ref'; hide_others()"
     title="12 posts"
     >Molinux</a>
</td></tr>
<tr class="row11"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#git-ref'; hide_others()"
     title="3 posts"
     >git</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#proselitism-ref'; hide_others()"
     title="19 posts"
     >proselitism</a>
</td></tr>
<tr class="row12"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Arco-ref'; hide_others()"
     title="116 posts"
     >Arco</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#INGSOFT-ref'; hide_others()"
     title="20 posts"
     >INGSOFT</a>
</td></tr>
<tr class="row13"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Chumby-ref'; hide_others()"
     title="5 posts"
     >Chumby</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#mercurial-ref'; hide_others()"
     title="8 posts"
     >mercurial</a>
</td></tr>
<tr class="row14"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#ocio-ref'; hide_others()"
     title="28 posts"
     >ocio</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#ripping-ref'; hide_others()"
     title="5 posts"
     >ripping</a>
</td></tr>
<tr class="row15"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#linux (the kernel of course)-ref'; hide_others()"
     title="7 posts"
     >linux (the kernel of course)</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#gstreamer-ref'; hide_others()"
     title="9 posts"
     >gstreamer</a>
</td></tr>
<tr class="row16"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#GNESIS-ref'; hide_others()"
     title="13 posts"
     >GNESIS</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Debian-ref'; hide_others()"
     title="69 posts"
     >Debian</a>
</td></tr>
<tr class="row17"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#security-ref'; hide_others()"
     title="25 posts"
     >security</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Python-ref'; hide_others()"
     title="61 posts"
     >Python</a>
</td></tr>
<tr class="row18"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#jekyll-ref'; hide_others()"
     title="2 posts"
     >jekyll</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#sysadm-ref'; hide_others()"
     title="1 posts"
     >sysadm</a>
</td></tr>
<tr class="row19"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Java-ref'; hide_others()"
     title="1 posts"
     >Java</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#platanada-ref'; hide_others()"
     title="6 posts"
     >platanada</a>
</td></tr>
<tr class="row20"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#uclmwifi-ref'; hide_others()"
     title="4 posts"
     >uclmwifi</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#shell-ref'; hide_others()"
     title="22 posts"
     >shell</a>
</td></tr>
<tr class="row21"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#drupal-ref'; hide_others()"
     title="1 posts"
     >drupal</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#devel-ref'; hide_others()"
     title="17 posts"
     >devel</a>
</td></tr>
<tr class="row22"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#scapy-ref'; hide_others()"
     title="7 posts"
     >scapy</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#emacs-ref'; hide_others()"
     title="48 posts"
     >emacs</a>
</td></tr>
<tr class="row23"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#virtualbox-ref'; hide_others()"
     title="3 posts"
     >virtualbox</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#printer-ref'; hide_others()"
     title="1 posts"
     >printer</a>
</td></tr>
<tr class="row24"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#blender-ref'; hide_others()"
     title="3 posts"
     >blender</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#ceslcam-ref'; hide_others()"
     title="9 posts"
     >ceslcam</a>
</td></tr>
<tr class="row25"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#C++-ref'; hide_others()"
     title="16 posts"
     >C++</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#MySQL-ref'; hide_others()"
     title="6 posts"
     >MySQL</a>
</td></tr>
<tr class="row26"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#recipe-ref'; hide_others()"
     title="1 posts"
     >recipe</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Hurd-ref'; hide_others()"
     title="1 posts"
     >Hurd</a>
</td></tr>
<tr class="row27"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#NDS-ref'; hide_others()"
     title="6 posts"
     >NDS</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#VCS-ref'; hide_others()"
     title="20 posts"
     >VCS</a>
</td></tr>

</table>
</div>

</div>

<div class="span9">
  
    <div class="pagination pagination-centered">
  <ul>

  
    <li class="prev"><a href="/" title="first page">&laquo;</a></li>
    <li class="prev" title="previous page">
      
        <a href="/page56">&lsaquo;</a>
      
    </li>
  

  <li><a>Page: 57 of 118</a></li>

  
    <li class="next" title="next page">
      <a href="/page58">&rsaquo;</a>
    </li>
    <li class="next"><a href="/page118" title="last page">&raquo;</a></li>
  

  </ul>
</div>



  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-10-25/zeroc-icestorm-gestionando-eventos">ZeroC IceStorm: gestionando eventos</a></h2>

  <div class="header">
  <span class="submitted">
    2007-10-25
    
      
  <a href="/users.html#KO_mOd_O">
   KO_mOd_O
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-10-25-zeroc-icestorm-gestionando-eventos.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-10-25-zeroc-icestorm-gestionando-eventos.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#networking-ref">networking </a></li>
    
    	<li><a href="/tags.html#Ice-ref">Ice </a></li>
    
    	<li><a href="/tags.html#Python-ref">Python </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/795">node/795</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote class="head"> 
En esta receta se describe qué es IceStorm (el servicio de publicación-subscripción de ICE) junto con algunos ejemplos que muestran su funcionalidad.
</blockquote>

<h2>Antecedentes</h2>

En <a href="http://crysol.org/node/619">Empezar con ZeroC Ice en Debian</a> se describió cómo adentrarse en ZeroC Ice. Ahora llega el turno de conocer IceStorm, uno de los servicios que nos ofrece esta herramienta multiusos.

<b>Nota:</b> Para probar los ejemplos de esta receta se ha utilizado la versión 3.2.1-3 de Ice y la versión 2.4.4 de Python.

<h2>Conceptos básicos</h2>

<b>IceStorm</b> es un servicio eficiente de publicación-subscripción para aplicaciones Ice. Desde un punto de vista funcional, IceStorm actúa como mediador entre el publicador y el subscriptor, proporcionando varias ventajas:

<ul>
<li>Sólo es necesaria una llamada al servicio IceStorm para distribuir la información a los subscriptores.</li>
<li>Independencia entre el emisor y los receptores de información, permitiendo que el primero se ocupe de las responsabilidades relativas a la aplicación y no de tareas administrativas.</li>
<li>Los cambios introducidos en el código son mínimos para incorporar la funcionalidad de IceStorm.</li>
</ul>

De manera general, una aplicación indica su interés en recibir mensajes subscribiéndose a un <em>topic</em>. Un servidor IceStorm soporta cualquier número de <em>topics</em>, los cuales son creados dinámicamente y distinguidos por un nombre único. Cada <em>topic</em> puede tener varios publicadores y subscriptores. Un <em>topic</em> es equivalente a una interfaz Slice: las operaciones del interfaz definen los tipos de mensajes soportados por el <em>topic</em>. Un publicador usa un <em>proxy</em> al interfaz <em>topic</em> para enviar sus mensajes, y un subscriptor implementa la interfaz <em>topic</em> (o derivada) para recibir los mensajes. Realmente dicha interfaz representa el contrato entre el publicador (cliente) y el subscriptor (servidor), excepto que IceStorm encamina cada mensaje a múltiples receptores de forma transparente.

<h2>Un ejemplo sencillo</h2>

A continuación se mostrará un ejemplo sencillo de cómo utilizar IceStorm. Dicho ejemplo consiste en una serie de objetos cuyo propósito es procesar una determinada estructura de datos. Para ello, se define el siguiente archivo a través de Slice (simple.ice):

<pre>
module Simple
{
	struct Message {
	       string content;
	};
	interface Processor {
		void process (Message m);  
	};
};
</pre>

Básicamente, disponemos de una estructura que contiene una cadena y una interfaz con una sencilla operación de procesado. Teniendo en cuenta la funcionalidad básica de IceStorm, con esta sencilla aproximación podríamos diseñar un sistema que permitiera procesar esta estructura por distintos servidores empleando una única llamada a IceStorm y de forma transparente para el publicador.

<h3>Creando el publicador</h3>

Veamos ahora el código del publicador (publisher.py):

<pre>
#!/usr/bin/python
# -*- coding: utf-8 -*-

import sys, Ice, IceStorm
Ice.loadSlice('simple.ice', ['-I', '/usr/share/slice'])
import Simple

class Publisher (Ice.Application):
    def run (self, argv):
        # Proxy al TopicManager.
        prx = self.communicator().stringToProxy('Simple/TopicManager:tcp -p 10000')
        topicManagerPrx = IceStorm.TopicManagerPrx.checkedCast(prx)
        # Proxy al topic.
        try:
            topicPrx = topicManagerPrx.retrieve('MyTopic')
        except IceStorm.NoSuchTopic:
            topicPrx = topicManagerPrx.create('MyTopic')
        # Proxy al objeto que publica.
        pub = topicPrx.getPublisher()
        processorPrx = Simple.ProcessorPrx.uncheckedCast(pub)
        # Publicación.
        m = Simple.Message('content')
        processorPrx.process(m)
        return 0

Publisher().main(sys.argv)
</pre>

Como se puede apreciar, el código habla por sí mismo (incluso sin fijarnos en los comentarios). Ésta es una de las principales ventajas de utilizar Ice: hace que el crear aplicaciones distribuidas implique muy pocos cambios en el código de la aplicación. A nivel general, se llevan a cabo los siguientes pasos:

<ol>
<li>Se crea un <em>proxy</em> a un objeto de tipo <em>TopicManager</em>.</li>
<li>Se recupera un <em>proxy</em> al <em>topic</em> en cuestión.</li>
<li>Se obtiene un <em>proxy</em> al publicador.</li>
<li>Se invoca a la operación remota <em>process.</em></li>
</ol>

<h3>Creando el subscriptor</h3>

Sencillo, ¿verdad? Pues el código del subscriptor (subscriptor.py) se mantiene en esa misma línea:

<pre>
#!/usr/bin/python
# -*- coding: utf-8 -*-

import sys, Ice, IceStorm
Ice.loadSlice('simple.ice', ['-I', '/usr/share/slice'])
import Simple

class ProcessorI (Simple.Processor):
    def process (self, message, curr):
        print message.content

class Subscriber (Ice.Application):
    def run (self, argv):
        self.shutdownOnInterrupt()
        # Proxy al TopicManager.
        prx = self.communicator().stringToProxy('Simple/TopicManager:tcp -p 10000')
        topicManagerPrx = IceStorm.TopicManagerPrx.checkedCast(prx)
        # Creación del objeto remoto.
        oa = self.communicator().createObjectAdapterWithEndpoints('SubscriberOA', 'default')
        processorPrx = oa.addWithUUID(ProcessorI())
        # Proxy al topic.
        try:
            topicPrx = topicManagerPrx.retrieve('MyTopic')
        except IceStorm.NoSuchTopic:
            topicPrx = topicManagerPrx.create('MyTopic')
        # Subscripción.
        topicPrx.subscribeAndGetPublisher(None, processorPrx)
        oa.activate()
        self.communicator().waitForShutdown()
        topicPrx.unsubscribe(processorPrx)
        return 0

Subscriber().main(sys.argv)
</pre>

El código es prácticamente idéntico. Sin embargo, en este caso tenemos que crear un adaptador de objetos para albergar el sirviente y, posteriormente, registrar este último (encargado de encarnar al objeto remoto). La parte más importante es la relativa a la operación <em>subscribeAndGetPublisher</em>, la cual añade un <em>proxy</em> subscriptor al <em>topic</em> (<em>processorPrx</em>) sin tener en cuenta la calidad del servicio (<em>None</em>).

<h3>Ejecutando IceStorm</h3>

Llegados a este punto ya tenemos definidas estas sencillas versiones del publicador y el subscriptor. Ahora sólo queda ejecutar IceStorm y poner en funcionamiento el sistema. IceStorm es un servicio relativamente ligero que se implementa como un servicio IceBox. Por lo tanto, el primer paso consiste en arrancar IceStorm:


<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> icebox --Ice.Config<span class="o">=</span>config.icebox
</code></pre></div>
</div>

El archivo de configuración básico (config.icebox) podría ser el siguiente:

<pre>
IceBox.ServiceManager.Endpoints=tcp -p 9999
IceBox.Service.IceStorm=IceStormService,32:createIceStorm --Ice.Config=config.icestorm
</pre>

Simplemente se informa a IceBox que se va a levantar una instancia del servicio IceStorm, con unas determinadas propiedades especificadas en el archivo de configuración asociado (config.icestorm):

<pre>
IceStorm.InstanceName=Simple
IceStorm.TopicManager.Proxy=Simple/TopicManager:default -p 10000
IceStorm.TopicManager.Endpoints=tcp -p 10000
IceStorm.Publish.Endpoints=tcp
Freeze.DbEnv.IceStorm.DbHome=db
</pre>

En este archivo de configuración se especifica el nombre de la instancia de IceStorm, la dirección de escucha de un <em>proxy</em> del tipo <em>TopicManager</em> y el directorio utilizado por IceStorm para gestionar su persistencia a través de Freeze (servicio de persistencia de Ice). Ya sólo queda ejecutar el subscriptor (podemos ejecutar tantos como queramos para comprobar que todos reciben las invocaciones remotas):


<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> python subscriptor.py
</code></pre></div>
</div>

Y el publicador:


<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> python publisher.py
</code></pre></div>
</div>

<h2>Federación de <em>topics</em></h2>

Una de las funcionalidades de IceStorm más interesantes es la posibilidad de establecer una jerarquía entre los distintos <em>topics</em>, creando un grafo dirigido en el que se establece el concepto de <b>coste</b>. En otras palabras, podemos establecer una jerarquía de <em>topics</em> de manera que los mensajes fluirán por los distintos enlaces que conectan los <em>topics</em> en función del coste asociado al mensaje por una parte, y al enlace por otra.

Imaginemos un grafo en el que tenemos tres <em>topics</em>: A, B y C. A tiene un enlace con B de coste 1, mientras que A tiene un enlace con C de coste 2, es decir:

A ----- c(1) -----> B
A ----- c(2) -----> C

Por otra parte, supongamos un subscriptor Sb vinculado a B, un subscriptor Sc vinculado a C y un publicador P vinculado a A. Si P envía un mensaje de coste 1, este mensaje llegará a A y fluirá a B y C debido a que el coste del mensaje es igual o menor que el de los enlaces, llegando por tanto a los subscriptores Sb y Sc. Sin embargo, si P envía un mensaje de coste 2, éste sólo llegará a Sc ya que el enlace existente entre A y B tiene un coste 1, por lo que el subscriptor Sb quedaría sin notificación y, por otra parte, Sc sí recibiría el mensaje. Merece la pena destacar que un mensaje de coste 0 fluye por todos los enlaces.

Desplegar esta jerarquía de <em>topics</em> en IceStorm es muy sencillo con la herramienta de administración de IceStorm:


<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> icestormadmin --Ice.Config<span class="o">=</span>config.icestorm graph.txt
</code></pre></div>
</div>

El archivo graph.txt representa dicha jerarquía y es muy simple:

<pre>
create A B C
link A B 1
link A C 2
</pre>

Con este sencillo archivo de texto creamos los <em>topics</em> y los enlaces entre ellos.

Ahora debemos adaptar el publicador y el subscriptor incluyendo esta nueva funcionalidad. El publicador sólo necesita vincularse al <em>topic</em> A y asociar el coste al mensaje. Para ello se utiliza el argumento implícito de contexto que toda operación de un <em>proxy</em> conlleva. En Python es muy simple:

<pre>
....
# Proxy al topic.
        try:
            topicPrx = topicManagerPrx.retrieve('A')
        except IceStorm.NoSuchTopic:
            topicPrx = topicManagerPrx.create('A')
....
# Publicación.
        m = Simple.Message('content')
        ctx = {}
        ctx['cost'] = '2'
        processorPrx.process(m, ctx)
....
</pre>

En el subscriptor podemos añadir la funcionalidad al sirviente para que imprima el coste:

<pre>
class ProcessorI (Simple.Processor):
    def process (self, message, curr):
        print 'Message: ' + message.content
        print 'Cost: ' + curr.ctx.get('cost')
</pre>

Y para probar nuestro ejemplo con los dos subscriptores, utilizaremos una simple comparación:

<pre>
....
 # Proxy al topic.
        try:
            if argv[1] == 'B':
                topicPrx = topicManagerPrx.retrieve('B')
            else:
                topicPrx = topicManagerPrx.retrieve('C')
        except IceStorm.NoSuchTopic:
            pass
        # Subscripción.
....
</pre>

Para probar este sencillo ejemplo basta con seguir los siguientes pasos:


<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> icebox --Ice.Config<span class="o">=</span>config.icebox
</code></pre></div>
</div>

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> icestormadmin --Ice.Config<span class="o">=</span>config.icestorm graph.txt
</code></pre></div>
</div>

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> python subscriber.py B
</code></pre></div>
</div>

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> python subscriber.py C
</code></pre></div>
</div>

<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> python publisher.py
</code></pre></div>
</div>

En este ejemplo en concreto, el mensaje sólo llegará al subscriptor vinculado al <em>topic</em> C:

<pre>
david@TheSecondWorldHeaven:~/Universidad/ZeroC_ICE/src/icestorm/topicFederation$ python subscriber.py C
Message: content
Cost: 2
</pre>

<h2>Conclusiones</h2>

Con IceStorm podemos gestionar el envío y la recepción de eventos de una manera sencilla, flexible y eficiente. La conclusión más importante que podemos obtener es la ventaja que supone el hecho de poder centrarte en la aplicación en cuestión, minimizando el tiempo empleado en cuestiones ajenas a la naturaleza de la misma y obteniendo un sistema eficiente. En particular, la federación de <em>topics</em> ofrece características muy interesantes a la hora de crear aplicaciones distribuidas, permitiendo jugar con la distribución de eventos a nuestro antojo.

<h2>¿Y ahora qué?</h2>

Por supuesto, todo este despliegue puede ser más sencillo y más transparente si utilizamos IceGrid tanto para desplegar la instancia de IceStorm como para localizar los distintos objetos involucrados en la aplicación. Además, es posible crear un sistema totalmente dinámico que gestione la creación y destrucción de <em>topics</em> en función de la naturaleza de nuestra aplicación. Por otra parte, IceStorm permite añadir más funcionalidades descritas en profundidad en el manual de Ice. Todo eso queda para una futura receta.

<h2>Referencias</h2>

<ul>
<li><a href="http://www.zeroc.com/doc/latest/manual/">Manual online</a> de ZeroC Ice.</li>
<li>Documentación online de <a href="http://www.zeroc.com/doc/Ice-3.2.1/manual/IceStorm.html#22064">IceStorm</a>.</li>
<li>Documentación de referencia online de <a href="http://www.zeroc.com/doc/latest/reference/">Slice</a>.</li>
</ul>

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/opinion/2007-10-24/ms-eficaz-que-la-porra-es-el-miedo-a-la-porra">Más eficaz que la porra es el miedo a la porra</a></h2>

  <div class="header">
  <span class="submitted">
    2007-10-24
    
      
  <a href="/users.html#david_villa">
   david.villa
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-10-24-ms-eficaz-que-la-porra-es-el-miedo-a-la-porra.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-10-24-ms-eficaz-que-la-porra-es-el-miedo-a-la-porra.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#opinion-ref">
    		opinion
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/794">node/794</a>
   </span>
   

</div>




  <div class="content">
    
      <p>El título de este post es una frase acuñada por David Bravo y de la que cada día vemos más ejemplos. Hoy, otra prueba de que <a href="http://mnm.uib.es/gallir/posts/2007/10/24/1206/">la libertad de expresión es un espejismo</a>.</p>
<p>Increible-ble</p>
    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/enquiry/2007-10-18/necesito-ayuda-con-la-compilacion-en-emacs">Necesito ayuda con la compilacion en emacs</a></h2>

  <div class="header">
  <span class="submitted">
    2007-10-18
    
      
  <a href="/users.html#Salsicha">
   Salsicha
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-10-18-necesito-ayuda-con-la-compilacion-en-emacs.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-10-18-necesito-ayuda-con-la-compilacion-en-emacs.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#enquiry-ref">
    		enquiry
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#emacs-ref">emacs </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/792">node/792</a>
   </span>
   

</div>




  <div class="content">
    
      Buenas hace poco que he instalado linux en mi portatil y realmente es la 1º vez que lo utilizo por lo que no tengo ni idea de como manejarlo. Concretamente tengo la distribucion Ubunto y la version 7.04

Mi problema reside en que emacs no me compila. Yo escribo cualquier programa en C, y desde tool le doy a compile. Y me dice que: "no hay ninguna regla para construir el objetivo <nombre>". 

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/2007-10-11/sql-inyection">SQL in'y'ection</a></h2>

  <div class="header">
  <span class="submitted">
    2007-10-11
    
      
  <a href="/users.html#david_villa">
   david.villa
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-10-11-sql-inyection.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-10-11-sql-inyection.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
  




       
       


  
    
    	<li><a href="/tags.html#ocio-ref">ocio </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/790">node/790</a>
   </span>
   

</div>




  <div class="content">
    
      <center>
<a href="http://xkcd.com/327/"><img src="http://imgs.xkcd.com/comics/exploits_of_a_mom.png"/></a>
</center>

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-10-10/editar-men-de-gnome-y-solucin-al-men-debian-desaparecido">Editar menú de Gnome (y solución al "Menú Debian" desaparecido)</a></h2>

  <div class="header">
  <span class="submitted">
    2007-10-10
    
      
  <a href="/users.html#int-0">
   int-0
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-10-10-editar-men-de-gnome-y-solucin-al-men-debian-desaparecido.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-10-10-editar-men-de-gnome-y-solucin-al-men-debian-desaparecido.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#gnome-ref">gnome </a></li>
    
    	<li><a href="/tags.html#Debian-ref">Debian </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/789">node/789</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>Buenas... los debianitas habrán notado como hace algún tiempo que el maravilloso y útil "Menú Debian" ha desaparecido, no se porqué... pero si cómo hacerlo volver.... :D</blockquote>


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/recipe/2007-10-10/editar-men-de-gnome-y-solucin-al-men-debian-desaparecido">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/2007-10-09/reunin-club-net">Reunión Club .NET</a></h2>

  <div class="header">
  <span class="submitted">
    2007-10-09
    
      
  <a href="/users.html#brue">
   brue
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-10-09-reunin-club-net.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-10-09-reunin-club-net.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/788">node/788</a>
   </span>
   

</div>




  <div class="content">
    
      Uno de los organizadores del club .NET de Ciudad Real (E. León) ha escrito en la lista del mismo:


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/2007-10-09/reunin-club-net">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/new/2007-10-02/infoglobal-presentacin">InfoGLOBAL : Presentación</a></h2>

  <div class="header">
  <span class="submitted">
    2007-10-02
    
      
  <a href="/users.html#RMerchan">
   RMerchan
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-10-02-infoglobal-presentacin.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-10-02-infoglobal-presentacin.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#new-ref">
    		new
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#Debian-ref">Debian </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/782">node/782</a>
   </span>
   

</div>




  <div class="content">
    
      Estimados compañeros, por la lista de usuarios registrados, veo algunos 'conocidos' de antaño.


    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/new/2007-10-02/infoglobal-presentacin">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-09-29/la-virgulilla-est-muerta">La virgulilla está muerta!</a></h2>

  <div class="header">
  <span class="submitted">
    2007-09-29
    
      
  <a href="/users.html#david_villa">
   david.villa
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-09-29-la-virgulilla-est-muerta.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-09-29-la-virgulilla-est-muerta.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/781">node/781</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote class="head">
<p class="head">Desde hace ya algunos meses, nuestro teclado no es el que era. Me refiero a la forma de escribir el carácter <a href="http://es.wikipedia.org/wiki/Virgulilla">virgulilla</a> (también llamado &#8216;tilde&#8217;). ¿Qué ha pasado?</p>
</blockquote>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/recipe/2007-09-29/la-virgulilla-est-muerta">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-09-26/zeroc-icegrid-gua-rpida-i">ZeroC IceGrid: Guía rápida I</a></h2>

  <div class="header">
  <span class="submitted">
    2007-09-26
    
      
  <a href="/users.html#cleto">
   cleto
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-09-26-zeroc-icegrid-gua-rpida-i.html">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-09-26-zeroc-icegrid-gua-rpida-i.html">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#Ice-ref">Ice </a></li>
    
    	<li><a href="/tags.html#Arco-ref">Arco </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/780">node/780</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>Esta receta es la primera parte de la Guía Rápida. En esta primera parte mostraremos los conceptos básicos para conocer y comprender la estructura de IceGrid.</blockquote>

<h2>Conceptos básicos</h2>
<b>IceGrid</b> es el servicio de Ice que puede proporcionar <em>transparencia de localización</em> en un sistema distribuido dinámico. Es decir, la transparencia de localización permite a un cliente contactar con un objeto remoto sin conocer realmente en qué máquina y en qué puerto está.

Ice proporciona métodos para especificar un <em>Endpoint</em> determinado. Recordemos:
<ul><li>Explícitamente en el código.</li>
<li>Pasado como párametro en la línea de órdenes.</li>
<li>En un fichero de configuración.</li></ul>
Los dos primeros métodos requieren utilizar la función <em>createObjectAdapterWithEndpoints</em>, que necesita el endpoint como parámetro; mientras que el tercero requiere un fichero de configuración y el uso de <em>createObjectAdapater</em>.

Sin embargo, si nos encontramos en un sistema dinámico en el que no se conocen la situación exacta de los servidores (o ésta cambia con el tiempo), el cambio en los Endpoints supondría, por este orden según el método utilizado:
<ul><li>Modificar el código y recompilar la aplicación.</li>
<li>Modificar scripts de inicialización de la aplicación.</li>
<li>Modificar el fichero de configuración</li></ul>

IceGrid permite a un cliente encontrar adaptadores de objetos remotos de los cuales sólo conoce el nombre (<em>Objeto1@Adaptador</em>). Este tipo de objetos son los "well-known objects" (objetos bien conocidos).

<h2>Estructura de un sistema que use IceGrid</h2>
Para IceGrid, el sistema distribuído tiene la siguiente jerarquía:
<ul><li><b>Registry</b>: nodo del sistema que se encarga de la transparencia de localización y funciona como "DNS" de todo el sistema. Por ello, debe conocer la estructura completa del sistema y de todos los recursos. Debe de ser <b>único</b> (puede haber otro registry en el sistema, pero con funciones de respaldo).</li>
<li><b>Nodos</b>: normalmente se identifica a un computador físico del sistema. Esto no es del todo cierto, ya que un mismo computador puede tener varios nodos. Sin embargo, para el objetivo de esta guía es suficiente pensar que un nodo es un computador del grid.</li>
<li><b>Servidor</b>: un nodo puede tener varios servidores, es decir, un punto del sistema puede ofrecer distintos servicios al resto de nodos. Un servidor, de una forma muy somera, puede verse como una aplicación corriendo en un puerto determinado.</li>
<li><b>Adaptadores de objetos</b>: cada servidor puede tiener uno o varios adaptadores de objetos. Es en este punto donde podemos especificar cuáles van a ser los objetos bien conocidos y otros parámetros.</li></ul>

<h2>En la siguiente parte...</h2>
Se propondrá un ejemplo de uso de IceGrid mediante la herramienta IceGrid-gui con un ejemplo básico.

<h2>Referencias</h2>
<ul><li><a href="http://www.zeroc.com/newsletter/issue19.pdf">Teach yourself IceGrid in 10 minutes </a></li></ul>

    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-09-20/lego-mindstorms-nxt-bluetooth">Lego Mindstorms NXT: BlueTooth</a></h2>

  <div class="header">
  <span class="submitted">
    2007-09-20
    
      
  <a href="/users.html#oscarah">
   oscarah
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-09-20-lego-mindstorms-nxt-bluetooth.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-09-20-lego-mindstorms-nxt-bluetooth.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#Arco-ref">Arco </a></li>
    
    	<li><a href="/tags.html#embedded-ref">embedded </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/779">node/779</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote class="head">
<p class="head">Comunicar el <span class="caps">NXT</span> con el PC por medio de Bluetooth. Se explica brevemente el protocolo de comunicaciones y se presenta un ejemplo: un servidor de <i>echo</i>.</p>
</blockquote>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/recipe/2007-09-20/lego-mindstorms-nxt-bluetooth">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  

  <div class="pagination pagination-centered">
  <ul>

  
    <li class="prev"><a href="/" title="first page">&laquo;</a></li>
    <li class="prev" title="previous page">
      
        <a href="/page56">&lsaquo;</a>
      
    </li>
  

  <li><a>Page: 57 of 118</a></li>

  
    <li class="next" title="next page">
      <a href="/page58">&rsaquo;</a>
    </li>
    <li class="next"><a href="/page118" title="last page">&raquo;</a></li>
  

  </ul>
</div>



</div>

	</div>
      </div>

      <hr/>

      <footer>
        <p>&copy; 2013 CRySoL
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>.
	  See <a href="https://github.com/CRySoL/web.source" target="_blank">site sources</a>.
	  <br/>
	  Generated at Mon Oct 21 20:42:16 +0200 2013
	</p>
      </footer>

    </div>

    
  </body>
</html>

