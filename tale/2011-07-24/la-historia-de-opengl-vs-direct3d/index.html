
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>La Historia de OpenGL vs Direct3D</title>
    
    <meta name="author" content="CRySoL">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/main.js"></script>

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/stylesheets/pygment_trac.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    

  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-narrow">
<!--
	  <a class="brand-image" href="/"><img class="brand-image" src="/assets/themes/twitter/logo.png"/></a>
-->
          <a class="brand" href="/">CRySoL</a>
          <ul class="nav">
            
            
            


  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/recipes.html">Recipes</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/users.html">Users</a></li>
      	
      
    
  
    
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="row-fluid">
	<div class="content">
          
<div class="sidebar span3">
  <div id="logo">
  <a href="/">
    <img src="/assets/images/logo.png" alt="logo"/>
  </a>
</div>

  <div class="metadata">
  <h2>this</h2>
  <ul>
    
      <li>author: 
  <a href="/users.html#nacho">
   nacho
  </a>


        
        <span class="author-photo">

  
    <img src="/assets/files/pictures/picture-13.gif" width="48" alt="picture"/>
  

</span>

      </li>
      
    

    <li>created: 2011-07-24 </li>

    <li><a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2011-07-24-la-historia-de-opengl-vs-direct3d.textile">source / <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2011-07-24-la-historia-de-opengl-vs-direct3d.textile">edit</a></li>

  
    <li>categories:
    
      <a href="/categories.html#tale-ref">tale</a>
    
    </li>
  

  
      <li>migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/1535">node/1535</a></li>
  

  
    <li>tags:
    
      <a href="/tags.html#graphics-ref">graphics</a>
    
    </li>
  
  </ul>

  
     
     
  

  
     
     
  

  <!-- AddThis Button BEGIN -->
<div class="share addthis_toolbox addthis_default_style addthis_16x16_style">
<a class="addthis_button_google_plusone_share"></a>
<a class="addthis_button_twitter"></a>
<a class="addthis_button_facebook"></a>
<a class="addthis_button_compact"></a><a class="addthis_counter addthis_bubble_style"></a>
</div>
<script type="text/javascript">var addthis_config = {"data_track_addressbar":true};</script>
<script type="text/javascript" src="//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-51cdd0d57c014017"></script>
<!-- AddThis Button END -->

</div>

<div class="related">
  <h2>related</h2>
  <ul>
    
    <li><a href="/recipe/2005-09-13/ssh-y-scp-para-acceder-a-equipos-remotos-sin-escribir-la-clave-public-key-authentication">SSH y SCP para acceder a equipos remotos sin escribir la clave (public key authentication)</a></li>
    
    <li><a href="/2005-09-24/acabo-de-registrarme-en-el-portal">Acabo de registrarme en el Portal</a></li>
    
    <li><a href="/2005-09-26/buenas-a-tods">Buenas a tod@s!</a></li>
    
    <li><a href="/tale/2005-09-26/instalacin-local-de-mambo-joomla-bajo-gnu-linux">Instalación local de Mambo / Joomla bajo GNU/Linux</a></li>
    
    <li><a href="/recipe/2005-09-27/acceso-a-red-cmpus-con-firefox-y-greasemonkey">Acceso a Red C@mpus con Firefox y Greasemonkey</a></li>
    
  </ul>
</div>

<div class="recent">
  <h2>recent</h2>
  <ul>
  
    <li><a href="/recipe/2013-09-23/virtualbox-vmdk-to-vdi">Converting .vmdk virtual disk to .vdi format from command line</a></li>
  
    <li><a href="/recipe/2013-09-19/ice35-deb-packages-from-zeroc">Installing the Ice-3.5 packages from ZeroC on Debian</a></li>
  
    <li><a href="/recipe/2013-09-03/DSO">Undertanding the DSO Link Change</a></li>
  
    <li><a href="/recipe/2013-08-11/hp-p1005-debian">HP LaserJet P1005 with Debian and the free driver</a></li>
  
    <li><a href="/recipe/2013-07-10/get-shell-user-without-shell">How to get a shell for a non-shell user</a></li>
  
  </ul>
</div>

</div>

<div class="node span9">
  <div class="page-header">
    <h1>La Historia de OpenGL vs Direct3D </h1>
  </div>

  <div class="row-fluid post-full">
    <div class="span12">
      <div class="content">
	<p>Hace poco, un forero bajo el seudónimo de M.Sameer se hacía la siguiente pregunta:</p>
<p><!--break--></p>
<p><em>«¿Es que DirectX es más fácil o mejor que OpenGL, incluso aunque OpenGL is multi-plataforma? ¿Por qué no vemos juegos potentes reales en Linux, como los que hay para Windows?»</em></p>
<p>De entre las muchas respuestas que recibió, <a href="http://programmers.stackexchange.com/questions/60544/why-do-game-developers-prefer-windows/88055#88055">destaca sobre todas las demás la que da Nicol Bolas</a>, y que cuenta la historia y la evolución de ambas APIs. Me ha parecido muy curiosa y enriquecedora, así que me he dispuesto a traducirla y compartirla con vosotros. Aquí va:</p>
<h2>Nace el Conflicto</h2>
<p>Un día, cerca del principio de los años 90, Microsoft miró alrededor. Vieron que la <span class="caps">SNES</span> y la <span class="caps">SEGA</span> Genesis eran super chulas, y ejecutaban un montón de juegos de acción y cosas así. Y vieron su <span class="caps">DOS</span>. Los desarrolladores codificaban los juegos para <span class="caps">DOS</span> igual que para las consolas: directo al metal. La diferencia era que, mientras un desarrollador que hacía un juego para <span class="caps">SNES</span> sabía qué hardware tendría el usuario, los desarrolladores de <span class="caps">DOS</span> tenían que escribir para múltiples configuraciones posibles. Y esto es más dífícil de lo que parece.</p>
<p>Y Microsoft tenía un problema aún mayor: Windows. Veréis, Windows quería poseer el hardware, no como <span class="caps">DOS</span>, que dejaba que los desarrolladores hicieran lo que les diera la gana. Poseer el hardware es necesario si quieres que las aplicaciones cooperen entre sí. Pero esta cooperación es precisamente lo que los desarrolladores <em>odian</em>, porque se lleva valiosos recursos hardware que ellos podrían usar para que su juego fuera más molón.</p>
<p>Para promover el desarrollo de juegos para Windows, Microsoft necesitaba una <span class="caps">API</span> uniforma que fuera de bajo nivel, corriera en Windows sin que éste la ralentizase y, sobre todo, multi-plataforma. Una única <span class="caps">API</span> para todo el hardware gráfico, de sonido las entradas.</p>
<p>Y así, nació DirectX.</p>
<p>Las aceleradoras gráficas nacieron unos meses más tarde. Y Microsoft se encontró con un problema: DirectDraw, el componente gráfico de DirectX, sólo manejaba gráficos bidimensionales, alojando memoria gráfica y haciendo <em>bit-blits</em> entre diferentes secciones de la memoria.</p>
<p>Así que Microsoft compró un poco de <em>middleware</em> y lo amoldó a su estilo, creando D3D v3. Lo despreció <em>todo el mundo</em>. Y no sin razón: mirar el código de D3D v3 es como mirar dentro del Arca de la Alianza.</p>
<p><a href="http://en.wikipedia.org/wiki/John_D._Carmack">John Carmack</a>, de <strong>Id Software</strong>, echó un vistazo a esa basura y dijo: <em>«Que le den por culo»</em>, y decidió implementar una nueva <span class="caps">API</span>: <a href="http://">OpenGL</a><a href="http://www.opengl.org">www.opengl.org</a></p>
<p>Otra parte de la &#8220;bestia de múltiples cabezas&#8221; que es Microsoft había estado ocupada trabajando con <span class="caps">SGI</span> en una implementación de OpenGL para Windows. La idea aquí era cortejar a los desarrolladores de aplicaciones GL típicas: aplicaciones para workstations, herramientas <span class="caps">CAD</span>, modelado&#8230; ese tipo de cosas. Los juegos eran lo último que tenían en mente; esto era principalmente una cosa para Windows NT, pero Microsoft decidió añadirlo también a Win95.</p>
<p>Como forma de atraer a los desarrolladores de workstation hacia Windows, Microsoft decidió intentar sobornarles con acceso a estas novedosas tarjetas gráficas 3D. Microsoft implemnentó el protocolo <em>Installable Card Driver</em>: un fabricante de tarjetas gráficas podría anular la implementación software de OpenGL de Microsoft y utilizar una basada en hardware. El código podría usar automáticamente usar una implementación hardware de OpenGL si estaba disponible.</p>
<h2>El Ascenso de OpenGL</h2>
<p>Ya tenemos nuestro escenario: Direct3D vs OpenGL. En realidad es una historia impresionante, teniendo en cuenta lo malo que era D3D v3.</p>
<p>La Junta de Revisión Arquitectónica de OpenGL (<span class="caps">ARB</span>, Architectural Review Board) es la organización responsable de mantener OpenGL. Crean un montón de extensiones, mantienen el repositorio de extensiones, y crean nuevas versiones de la <span class="caps">API</span>. La <span class="caps">ARB</span> es un comité compuesto por muchos de los actores de la industria gráfica, así como algunos fabricantes de SO. Apple y Microsoft han formado parte de la <span class="caps">ARB</span> en varias ocasiones.</p>
<p>3Dfx aparece con la Voodoo2. Este es el primer hardware con multitexturizado, que es algo que OpenGL no podía hacer antes. Mientras que 3Dfx estaba fervientemente en contra de openGL, <span class="caps">NVIDIA</span>, fabricantes del próximo chip gráfico con multitexturas (el TNT1), lo adoraba. Así que la <span class="caps">ARB</span> lanzó una extensión: GL_ARB_multitexture, que permitiría el acceso al multitexturizado.</p>
<p>Mientras tanto, sale Direct3D v5. Ahora, D3D se ha convertido en una <span class="caps">API</span> en condiciones, más que algo vomitado por un gato. ¿El problema? Que no tiene multitexturas.</p>
<p>Oops.</p>
<p>Ahora bien, eso no fue tan malo como debería haber sido, porque la gente no usaba mucho las multitexturas. Al menos, no directamente. El multitexturizado afecta bastante al rendimiento, y en muchos casos no merece la pena, comparado con el <em>multi-passing</em>. Y por supuesto, a los desarrolladores de juegos les encanta asegurarse de que sus juegos funcionan en hardware antiguo, que no tenía multitexturas, así que muchos juegos simplemente no las usaban.</p>
<p>Esto concedió un indulto a D3D y tuvo una segunda oportunidad.</p>
<p>El tiempo pasa y <span class="caps">NVIDIA</span> lanza la GeForce 256 (no la GeForce GT-250, la primera GeForce), zanjando así durante 2 años la competición en el mundo de las tarjetas gráficas. El principal atractivo es la habilidad de hacer transformadas e iluminación (T&amp;L) de vértices en hardware. No sólo eso, a <span class="caps">NVIDIA</span> le gustaba tanto OpenGL que su motor de T&amp;L <em>era</em> efectivamente OpenGL. Casi literalmente; tal como yo lo entiendo, algunos de sus registros tomaban enumeradores OpenGL <em>directamente</em> como valores.</p>
<p>Sale D3D v6. Multitexturas por fin, pero&#8230; sin T&amp;L por hardware. OpenGL había tenido <em>siempre</em> una pipeline de T&amp;L, incluso antes de la 256, lo tenían implementado en software. Así que a <span class="caps">NVIDIA</span> le resultó muy fácil convertir su implementación software en una solución hardware. Direct3D no soportaría el T&amp;L por hardware hasta D3D v7.</p>
<h2>El Amanecer de los <em>Shaders</em>, Ocaso de OpenGL</h2>
<p>En esta situación, aparece GeForce 3. Y ocurren un montón de cosas al mismo tiempo.</p>
<p>Microsoft había decidido que no volverían a llegar tarde. Así que, en lugar de mirar lo que estaba haciendo <span class="caps">NVIDIA</span> y después copiarlo cuando ya lo habían hecho, adoptaron la asombrosa postura de ir directamente y hablar con ellos. Entonces se enamoraron y tuvieron una pequeña consolita. Después vino un divorcio enfarragoso. Pero esa es otra historia.</p>
<p>Para el mundo PC, esto significó que la GeForce 3 vino al mundo a la vez que D3D v8. Y no es difícil ver cómo la GeForce 3 influenció los <em>shaders</em> de D3D v8. El <em>pixel shader</em> de Shader Model 1.0 era <em>extremadamente</em> específico para hardware <span class="caps">NVIDIA</span>. Todavía no se había hecho ningún intento en absoluto de abstraer el hardware de <span class="caps">NVIDIA</span>; SM 1.0 era simplemente &#8220;lo que sea que haga la GeForce 3&#8221;.</p>
<p>Cuando <span class="caps">ATI</span> empezó a competir en la carrera de las tarjetas gráficas con la Radeon 8500, había un problema. El pipeline de proceso de pixeles de la 8500 era más potente que el de <span class="caps">NVIDIA</span>. Así que Microsoft sacó Shader Model 1.1, que era básicamente «lo que sea que haga la 8500&quot;.</p>
<p>Podría parecer un error por parte de D3D. Pero fracaso y éxito son cuestión de grados. Y un fracaso <em>tremendo</em> estaba gestándose en Villa OpenGL.</p>
<p>A <span class="caps">NVIDIA</span> le encantaba OpenGL, así que cuando salió la GeForce 3, lanzaron un montón de extensiones de OpenGL. Extensiones <em>propietarias</em>. Sólo para <span class="caps">NVIDIA</span>. naturalmente, cuando la 8500 apareció, no podía usar ninguna de ellas.</p>
<p>Al menos, en D3D v8 podías ejecutar tus <em>shaders</em> de SM 1.0 en hardware <span class="caps">ATI</span>. Sí, tenías que escribir shaders nuevos para poder aprovechar las maravillas de la 8500, pero al menos tu código <em>funcionaba</em>.</p>
<p>Para poder tener <em>algún</em> shader en la Radeon 8500 con OpenGL, <span class="caps">ATI</span> tuvo que escribir muchas extensiones OpenGL. Extensiones <em>propietarias</em>. Sólo para <span class="caps">ATI</span>. Así que necesitabas código de <span class="caps">NVIDIA</span> y código de <span class="caps">ATI</span>, solo para tener shaders.</p>
<p>Ahora bien, os preguntaréis: «¿dónde está la <span class="caps">ARB</span> de OpenGL, cuyo trabajo era mantener actualizado OpenGL?» Pues donde suelen acabar la mayoría de los comités: siendo estúpidos.</p>
<p>Veréis, antes mencioné ARB_multitexture porque afecta profundamente a todo esto. La <span class="caps">ARB</span> parecía (vista desde fuera) querer evitar totalmente la idea de los shaders. Se imaginaron que, si eran capaces de meter a capón suficiente configurabilidad en su pipeline de una única función, podrían equiparar las características de la pipeline de shaders.</p>
<p>Así que la <span class="caps">ARB</span> publicó extensión tras extensión. Cada extensión con las palabras &#8220;texture_env&#8221; era otro intento de parchear este diseño obsoleto. Mirad el registro: entre las extensiones <span class="caps">ARB</span> y las <span class="caps">EXT</span> hubo <em>ocho</em> de estas extensiones. Muchas de ellas se incluyeron en el núcleo de OpenGL.</p>
<p>Microsoft era partde de la <span class="caps">ARB</span> en este momento, y la abandonaron más o menos cuando salió D3D v9. Así que es perfectamente posible que estuvieran trabajando para sabotear OpenGL de alguna forma. Personalmente no creo en esta teoría, por dos razones: una, que habrían necesitado ayuda de otros miembros de la <span class="caps">ARB</span>, ya que cada uno sólo posee un voto; y dos, aún más importante, la <span class="caps">ARB</span> no necesitaba a Microsoft para joderlo todo. Ya veremos esto más adelante.</p>
<p>Al final, la <span class="caps">ARB</span>, posiblemente bajo la amenaza de <span class="caps">ATI</span> y <span class="caps">NVIDIA</span> (ambos miembros activos) levantó la cabeza el tiempo suficiente para dar shaders reales estilo ensamblador.</p>
<p>¿Queréis algo aún más estúpido?</p>
<p>T&amp;L por hardware. Algo que OpenGL tuvo <em>antes</em>. Para obtener el máximo rendimiento posible del T&amp;L por hardware, necesitas almacenar los datos de tus vértices en la <span class="caps">GPU</span>. Al fin y al cabo, es la <span class="caps">GPU</span> la que realmente quiere usar los datos de tus vértices.</p>
<p>En D3D v7, Microsoft introdujo el concepto de Vertex Buffers. Son franjas de memoria de <span class="caps">GPU</span> que almacenan datos de vértices.</p>
<p>¿Queréis saber cuándo tuvo OpenGL su equivalente para esto? <span class="caps">NVIDIA</span>, a quien le encantaban todas las cosas de OpenGL (siempre y cuando fueran extensiones propietarias <span class="caps">NVIDIA</span>), lanzó la extensión Vertex Array Range cuando salió la GeForce 256. Pero.. ¿cuándo decidió la <span class="caps">ARB</span> dar una funcionalidad similar?</p>
<p><em>Dos años después</em>. Esto fue <em>después</em> de que aprobaran los Vertex Shaders y Fragment Shaders (pixel en lenguaje D3D). Eso es lo que tardó la <span class="caps">ARB</span> en desarrollar una solución multiplataforma para almacenar datos de vértices en la memoria de la <span class="caps">GPU</span>. De nuevo, algo que el T&amp;L por hardware <em>necesita</em> para alcanzar su rendimiento máximo.</p>
<h2>Un Lenguaje para Arruinarlos a Todos</h2>
<p>Así pues, el entorno de desarrollo de OpenGL estuvo roto durante un tiempo. Sin shaders multi-plataforma, sin almacenamiento <span class="caps">GPU</span> multiplataforma, mientras los usuarios de D3D disfrutaban de ambos. ¿Podría ponerse peor?</p>
<p>Pues&#8230; podría decirse que sí. Aparece <strong>3D Labs</strong>.</p>
<p>¿Y esos quiénes son, os preguntaréis?. Son una compañía ya desaparecida a quienes considero los verdaderos asesinos de OpenGL. Sí, la ineptitud general de la <span class="caps">ARB</span> hizo que OpenGL fuera vulnerable cuando debería haber estado dándole cera a D3D. Pero 3D Labs es quizá la única y mayor razón, en mi opinión, del actual estado mercantil de OpenGL. ¿Qué pueden haber hecho para provocarlo?</p>
<p>Diseñaron el OpenGL Shading Language.</p>
<p>Veréis, 3D Labs era una compañía moribunda. Sus carísimas GPUs estaban siendo marginadas por la creciente presión de <span class="caps">NVIDIA</span> en el mercado de las workstations. Y al contrario que <span class="caps">NVIDIA</span>, 3D Labs no tenía presencia alguna en el mercado principal; si <span class="caps">NVIDIA</span> ganaba, ellos morían.</p>
<p>Y así ocurrió.</p>
<p>Así, en una apuesta por seguir siendo relevantes en un mundo que no quería sus productos, 3D Labs apareció en una Game Developer Conference enarbolando presentaciones sobre algo que llamaron &#8220;OpenGL 2.0&#8221;. Sería una re-escritura completa, desde cero, de la <span class="caps">API</span> de OpenGL. Y tiene sentido; había un montón de porquería en aquella <span class="caps">API</span> en ese momento (nota: esa porquería aún existe). No hay más que echarle un ojo a cómo funcionan la carga y el enlazado de texturas, es cuasi-arcano.</p>
<p>Parte de su propuesta era un lenguaje de sombreado (shading). Naturalmente. Sin embargo, al contrario que las extensiones actuales de la <span class="caps">ARB</span>, su lenguaje era &#8220;de alto nivel&#8221; (C es un lenguaje de alto nivel en lo referente a shaders. Sí, en serio).</p>
<p>Microsoft estaba trabajando en su propio lenguaje de alto nivel para sombreado; al que, con toda la imaginación colectiva de Microsoft, llamaron&#8230; Lenguaje de Sombreado de Alto Nivel (<span class="caps">HLSL</span>, High-Level Shading Language). Pero su enfoque era totalmente distinto al de los lenguajes.</p>
<p>El mayor problema del lenguaje de 3D Labs era que que estaba empotrado (built-in). <span class="caps">HLSL</span> era un lenguaje que Microsoft definió. Lanzaron un compilador para él, y generaba código ensamblador de ShaderModel 2.0 (o posteriores), que le podías pasar a D3D. En los días de D3D v9, Direct3D nunca tocaba <span class="caps">HLSL</span> directamente. Era una abstracción bonita, pero era puramente opcional. Y un desarrollador siempre tenía la opción de ir detrás del compilador y toquetear la salida para conseguir un rendimento mejor.</p>
<p>El lenguaje de 3D Labs no tenía <em>nada</em> de eso. Le dabas al driver el código estilo C y producía un shader. Fin de la historia. Nada de shaders en ensamblador, nada que pudieras pasar a otro sitio. El objeto OpenGL final, que representa un shader.</p>
<p>Esto significaba que los usuarios de OpenGL estaban a merced de los caprichos de los desarrolladores que estaban cogiéndole el tranquillo a compilar lenguajes estilo ensamblador. Los bugs del compilador proliferaban en el recién bautizado OpenGL Shading Language (<span class="caps">GLSL</span>). Y lo que es peor, si te las apañabas para conseguir que un shader compilase correctamente en varias plataformas (que no era poco), aún estabas sujeto a los optimizadores del día. Que no eran tan óptimos como podrían ser.</p>
<p>Aunque este era el principal fallo de <span class="caps">GLSL</span>, no era el único. Ni mucho menos.</p>
<p>En D3D, y en los antiguos lenguajes ensamblador de OpenGL, podías mezclar y emparejar vertex shaders y fragment (pixel) shaders). Siempre y cuando se comunicaran con la misma interfaz, podías usar cualquier vertex shader con cualquier fragment shader compatible. Y había incluso niveles de incopatibilidad que podían aceptar: el vertex shader podía escribir una salia que el fragment shader no pudiera leer.</p>
<p><span class="caps">GLSL</span> no tenía nada de eso. Fusionaron los vertex shader y fragment shaders en algo que 3D Labs llamó un «objeto de programa». Así que si querías compartir entre vertex y fragment shaders, tenías que crear varios objetos de programa. Y esto provocaba el sengundo gran problema.</p>
<p>3D Labs creía que estaban siendo listos. Basaron la el modelo de compilación de <span class="caps">GLSL</span> en el de C/C++. Coges un .c o .cpp y lo compilas en un fichero objeto. Entonces coges uno o varios ficheros objeto y los enlazas en un programa. Así compila <span class="caps">GLSL</span>: compilas tu shader (vertex o fragment) en un objeto shader. Luego pones esos objetos shader en un objeto programa, y los enlazas para formar tu programa.</p>
<p>A pesar de que esto permitía ideas potencialmente chulas como tener &#8220;librerías&#8221; de shaders que contenían código extra que los shaders principales podrían llamar, lo que significó en la práctica fue que los shaders se compilaban <em>dos veces</em>. Una, en la entapa de compilación; y otra, en la de linkado. El compilador de <span class="caps">NVIDIA</span>, en particular, era conocido básicamente por ejecutar la compilación dos veces. No generaba ningún tipo de código objeto intermedio, simplemente lo compilaba una vez y descartaba la respuesta, y luego lo compilaba otra vez en la fase de linkado.</p>
<p>Así que incluso si quieres linkar tu vertex shader a dos fragment shaders distintos, tienes que hacer un montón más de compilaciones que en D3D. Especialmetne desde que la compilación de un lenguaje estilo C se hacía <em>offline</em>, no al principio de la ejecución del programa.</p>
<p>Había otros problemas con <span class="caps">GLSL</span>. Puede parecer mal que le eche la culpa a 3D Labs, ya que al final fue la <span class="caps">ARB</span> la que aprobó e incorporó el lenguaje (pero nada más de su &#8220;iniciativa OpenGL 2.0&#8221;). Pero fue su idea.</p>
<p>Y esta es la parte más triste: 3D Labs <em>tenía razón</em> (en gran parte). <span class="caps">GLSL</span> no es un lenguage basado en vectores como lo era <span class="caps">HLSL</span> en su tiempo. Esto era porque el hardware de 3D Labs era escalar (similar al hardware de <span class="caps">NVIDIA</span> actual), pero acertaron en la dirección que tomarían muchos fabricantes de hardware.</p>
<p>Hicieron bien en tomar un modelo de compilación on-line para un lenguaje de &#8220;alto nivel&#8221;. Incluso D3D cambió a este modelo al final.</p>
<p>El problema era que 3D Labs lo hizo bien <em>en el momento equivocado</em>. Y, al intentar invocar al futuro demasiado pronto, al intentar ser a prueba del futuro, dejaron de lado el presente. Suena parecido a cómo OpenGL siempre tuvo la posibilidad de la funcionalidad de T&amp;L. Solo que la pipeline T&amp;L de OpenGL todavía era <em>útil</em> antes que el T&amp;L hardware, mientras que <span class="caps">GLSL</span> era una responsabilidad antes de que el mundo lo alcanzara.</p>
<p><span class="caps">GLSL</span> es un buen lenguaje <em>ahora</em>. ¿Pero en su día? Era horrible. Y OpenGL lo pagó caro.</p>
<h2>Cayendo a la Apoteosis</h2>
<p>Aunque mantengo que 3D Labs asestó el golpe de gracia, fue la propia <span class="caps">ARB</span> la que quizá puso el último clavo en el ataúd.</p>
<p>Es una historia que quizá hayáis oído. En los días de OpenGL 2.1, OpenGL se dirigía hacia un problema: tenía un montón de porquería heredada. La <span class="caps">API</span> ya no era fácil de usar. Había 5 formas de hacer las cosas, y nadie sabía cuál era la más rápida. Podías aprender OpenGL con tutoriales sencillos, pero realmente no aprendías cómo sacar y aprovechar el máximo rendimiento y potencia gráfica.</p>
<p>Así que la <span class="caps">ARB</span> decidió probar otra reinvención de OpenGL. Se parecía al OpenGL 2.0 de 3D Labs, pero mejor, porque la <span class="caps">ARB</span> estaba detrás. Lo llamaron &#8220;Longs Peak&#8221;.</p>
<p>¿Qué tiene de malo tomarse un tiempo para mejorar la <span class="caps">API</span>? Es malo porque Microsoft se había quedado vulnerable. Estamos hablando del momento en que se hizo el cambio a Vista.</p>
<p>Con Vista, Microsoft decidió establecer algunos cambios muy necesarios en sus drivers gráficos. Forzaron a los drivers a someterse al sistema operativo para vitualización de memoria gráfica, y algunas otras cosas.</p>
<p>Aunque uno puede debatir sobre lo acertado de esta decisión, o si es siquiera posible, el hecho es el siguiente: Microsoft consideró hacer D3D v10 únicamente para Vista (y superiores). Incluso si tenías hardware que era capaz de ejecutar D3D 10, no podrías hacerlo sin Vista.</p>
<p>También recordaréis que Vista&#8230; digamos que no funcionó muy bien. Así que tenemos un SO de bajo rendimiento, una nueva <span class="caps">API</span> que sólo corre en ese SO, y una generación nueva de hardware que <em>necesitaba</em> una <span class="caps">API</span> y un SO que hicieran algo más que ser más rápidos que la generación anterior.</p>
<p>Sin embargo, los desarrolladores <em>podían</em> acceder a las características de D3D 10 vía OpenGL. Bueno, podrían si la <span class="caps">ARB</span> no hubiera estado tan ocupada trabajando en Longs Peak.</p>
<p>Básicamente, la <span class="caps">ARB</span> se pasó sus buenos 18-24 meses trabajando para hacer la <span class="caps">API</span> mejor. Para cuando OpenGL 3.0 por fin salió, ya se había adptado Vista, Windows 7 estaba a la vuelta de la esquina, y la mayoría de los desarrolladores de juegos ni siquiera estaban interesados en las características de D3D 10. Al fin y al cabo, el hardware D3D 10 corría las aplicaciones D3D 9 muy bien. Y con el ascenso de los ports PC-a-consola (o desarrolladores de PC pasándose a desarrollo en consola, como quieras verlo), los desarrolladores no necesitaban las funcionalidades D3D 10.</p>
<p>Ahora bien, si los desarrolladores hubieran tenido acceso a esas funcionalidades antes via OpenGL en WinXP, entonces OpenGL podría haber recibido sólo un (merecido) disparo en el brazo. Pero la <span class="caps">ARB</span> perdió su oportunidad. ¿Y queréis saber la peor parte?</p>
<p>A pesar de pasar 2 preciosos años intentando reconstruir la <span class="caps">API</span> desde cero&#8230; no lo hicieron, y simplemente volvieron al status-quo (excepto por un mecanismo de obsolescencia).</p>
<p>Así que la <span class="caps">ARB</span> no sólo perdió una ventana <em>crucial</em> de oportunidad, es que ni siquiera hicieron el trabajo que les hizo perder esa oportunidad. Una gran cagada (epic fail) por todos lados.</p>
<p>Y esta es la historia de OpenGL vs Direct3D. Una historia de oportunidades perdidas, gran estupidez, cegera intencionada y simple estupidez.</p>
      </div>

      

      <hr/>

      <div class="pagination pagination-centered">
  <ul>
    
      <li class="prev"><a href="/recipe/2011-07-17/ejecutando-un-mismo-comando-en-varias-mquinas-con-fabric" title="Ejecutando un mismo comando en varias máquinas (con fabric)">&larr; Previous</a></li>
    

    <li><a href="/archive.html">Archive</a></li>

    
      <li class="next"><a href="/opinion/2011-07-29/y-si-contrataran-a-los-conductores-igual-que-a-los-programadores" title="¿Y si contrataran a los conductores igual que a los programadores?">Next &rarr;</a></li>
    
  </ul>
</div>


      <hr/>

      

<div id="show_comments"> [ <a onclick="show_comments();"> show comments </a> ] </div>


  <div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_developer = 1;
    var disqus_shortname = 'crysol'; // required: replace example with your forum shortname
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>






    </div>
  </div>
</div>


	</div>
      </div>

      <hr/>

      <footer>
        <p>&copy; 2013 CRySoL
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>.
	  See <a href="https://github.com/CRySoL/CRySoL.github.io" target="_blank">site sources</a>.
	  <br/>
	  Generated at Wed Oct 02 00:21:25 +0200 2013
	</p>
      </footer>

    </div>

    
  </body>
</html>

