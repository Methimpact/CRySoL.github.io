
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title></title>
    
    <meta name="author" content="CRySoL">

    <script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js" type="text/javascript"></script>
    <script src="/javascripts/main.js"></script>

    <!-- Enable responsive viewport -->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- Le HTML5 shim, for IE6-8 support of HTML elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <!-- Le styles -->
    <link href="/assets/themes/twitter/bootstrap/css/bootstrap.2.2.2.min.css" rel="stylesheet">
    <link href="/assets/themes/twitter/css/style.css?body=1" rel="stylesheet" type="text/css" media="all">
    <link href="/stylesheets/pygment_trac.css" rel="stylesheet" type="text/css" media="all">

    <!-- Le fav and touch icons -->
  <!-- Update these with your own images
    <link rel="shortcut icon" href="images/favicon.ico">
    <link rel="apple-touch-icon" href="images/apple-touch-icon.png">
    <link rel="apple-touch-icon" sizes="72x72" href="images/apple-touch-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="114x114" href="images/apple-touch-icon-114x114.png">
  -->

    <!-- atom & rss feed -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="Sitewide ATOM Feed">
    <link href="/rss.xml" type="application/rss+xml" rel="alternate" title="Sitewide RSS Feed">

    

  </head>

  <body>
    <div class="navbar navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-narrow">
<!--
	  <a class="brand-image" href="/"><img class="brand-image" src="/assets/themes/twitter/logo.png"/></a>
-->
          <a class="brand" href="/">CRySoL</a>
          <ul class="nav">
            
            
            


  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/recipes.html">Recipes</a></li>
      	
      
    
  
    
      
      	
      	<li><a href="/about.html">About</a></li>
      	
      
    
  
    
      
    
  
    
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/archive.html">Archive</a></li>
      	
      
    
  
    
  
    
      
    
  
    
      
      	
      	<li><a href="/users.html">Users</a></li>
      	
      
    
  
    
      
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  



          </ul>
        </div>
      </div>
    </div>

    <div class="container-narrow">

      <div class="row-fluid">
	<div class="content">
          


<div class="sidebar span3">
  <div id="logo">
  <a href="/">
    <img src="/assets/images/logo.png" alt="logo"/>
  </a>
</div>

  <div class="recent">
<h2>recent</h2>
<ul>

  <li><a href="/recipe/2013-11-15/reading-a-property-file-with-augeas">Reading a properties file with augeas</a></li>

  <li><a href="/recipe/2013-10-28/file-grain-sudo">Fine-grain sudo</a></li>

  <li><a href="/recipe/2013-10-21/git-remove-from-history">git: removing files from history</a></li>

  <li><a href="/recipe/2013-10-15/virtualbox-compact-vmdk-images">Compacting .vmdk virtual disk with VirtualBox</a></li>

  <li><a href="/recipe/2013-10-12/apt-pinning">Debian apt pinning</a></li>

</ul>
</div>

<div class="categories">
<h2>categories</h2>

<table class="categories">
<tr class="row1">
<td class="col1">
  <a href="javascript:window.location.href='/categories.html#enquiry-ref'; hide_others()"
     title="33 posts"
     >enquiry</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#challenge-ref'; hide_others()"
     title="11 posts"
     >challenge</a>
</td></tr>
<tr class="row2"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#quote-ref'; hide_others()"
     title="1 posts"
     >quote</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#art-ref'; hide_others()"
     title="9 posts"
     >art</a>
</td></tr>
<tr class="row3"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#offer-ref'; hide_others()"
     title="1 posts"
     >offer</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#event-ref'; hide_others()"
     title="16 posts"
     >event</a>
</td></tr>
<tr class="row4"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#opinion-ref'; hide_others()"
     title="66 posts"
     >opinion</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#cooking-ref'; hide_others()"
     title="23 posts"
     >cooking</a>
</td></tr>
<tr class="row5"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#script-ref'; hide_others()"
     title="15 posts"
     >script</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#humor-ref'; hide_others()"
     title="6 posts"
     >humor</a>
</td></tr>
<tr class="row6"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#new-ref'; hide_others()"
     title="167 posts"
     >new</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/categories.html#tale-ref'; hide_others()"
     title="64 posts"
     >tale</a>
</td></tr>
<tr class="row7"><td class="col1">
  <a href="javascript:window.location.href='/categories.html#recipe-ref'; hide_others()"
     title="590 posts"
     >recipe</a>
</td></tr>

</table>
</div>


<div class="tags">
<h2>tags</h2>

<table class="tags">
<tr class="row1">
<td class="col1">
  <a href="javascript:window.location.href='/tags.html#pdf-ref'; hide_others()"
     title="1 posts"
     >pdf</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#jekyll-ref'; hide_others()"
     title="2 posts"
     >jekyll</a>
</td></tr>
<tr class="row2"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#android-ref'; hide_others()"
     title="7 posts"
     >android</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#blender-ref'; hide_others()"
     title="3 posts"
     >blender</a>
</td></tr>
<tr class="row3"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#devel-ref'; hide_others()"
     title="17 posts"
     >devel</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#uclmwifi-ref'; hide_others()"
     title="4 posts"
     >uclmwifi</a>
</td></tr>
<tr class="row4"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#gnome-ref'; hide_others()"
     title="10 posts"
     >gnome</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Oreto-ref'; hide_others()"
     title="6 posts"
     >Oreto</a>
</td></tr>
<tr class="row5"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#gtk-ref'; hide_others()"
     title="11 posts"
     >gtk</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#sugarfree-ref'; hide_others()"
     title="4 posts"
     >sugarfree</a>
</td></tr>
<tr class="row6"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#security-ref'; hide_others()"
     title="25 posts"
     >security</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#mercurial-ref'; hide_others()"
     title="8 posts"
     >mercurial</a>
</td></tr>
<tr class="row7"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#C++-ref'; hide_others()"
     title="16 posts"
     >C++</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Python-ref'; hide_others()"
     title="61 posts"
     >Python</a>
</td></tr>
<tr class="row8"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#virtualbox-ref'; hide_others()"
     title="3 posts"
     >virtualbox</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#doublex-ref'; hide_others()"
     title="1 posts"
     >doublex</a>
</td></tr>
<tr class="row9"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#git-ref'; hide_others()"
     title="3 posts"
     >git</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#proselitism-ref'; hide_others()"
     title="19 posts"
     >proselitism</a>
</td></tr>
<tr class="row10"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Ice-ref'; hide_others()"
     title="16 posts"
     >Ice</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#shell-ref'; hide_others()"
     title="24 posts"
     >shell</a>
</td></tr>
<tr class="row11"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#gstreamer-ref'; hide_others()"
     title="9 posts"
     >gstreamer</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#ripping-ref'; hide_others()"
     title="5 posts"
     >ripping</a>
</td></tr>
<tr class="row12"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#printer-ref'; hide_others()"
     title="1 posts"
     >printer</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#drupal-ref'; hide_others()"
     title="1 posts"
     >drupal</a>
</td></tr>
<tr class="row13"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#sysadm-ref'; hide_others()"
     title="1 posts"
     >sysadm</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#INGSOFT-ref'; hide_others()"
     title="20 posts"
     >INGSOFT</a>
</td></tr>
<tr class="row14"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Java-ref'; hide_others()"
     title="1 posts"
     >Java</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#LaTeX-ref'; hide_others()"
     title="11 posts"
     >LaTeX</a>
</td></tr>
<tr class="row15"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Hurd-ref'; hide_others()"
     title="1 posts"
     >Hurd</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Molinux-ref'; hide_others()"
     title="12 posts"
     >Molinux</a>
</td></tr>
<tr class="row16"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#patterns-ref'; hide_others()"
     title="6 posts"
     >patterns</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#scapy-ref'; hide_others()"
     title="7 posts"
     >scapy</a>
</td></tr>
<tr class="row17"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#sudo-ref'; hide_others()"
     title="1 posts"
     >sudo</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#agile-ref'; hide_others()"
     title="1 posts"
     >agile</a>
</td></tr>
<tr class="row18"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#ceslcam-ref'; hide_others()"
     title="9 posts"
     >ceslcam</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#graphics-ref'; hide_others()"
     title="10 posts"
     >graphics</a>
</td></tr>
<tr class="row19"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#ocio-ref'; hide_others()"
     title="28 posts"
     >ocio</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#GNESIS-ref'; hide_others()"
     title="13 posts"
     >GNESIS</a>
</td></tr>
<tr class="row20"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#MySQL-ref'; hide_others()"
     title="6 posts"
     >MySQL</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#embedded-ref'; hide_others()"
     title="53 posts"
     >embedded</a>
</td></tr>
<tr class="row21"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#augeas-ref'; hide_others()"
     title="1 posts"
     >augeas</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#VCS-ref'; hide_others()"
     title="20 posts"
     >VCS</a>
</td></tr>
<tr class="row22"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#networking-ref'; hide_others()"
     title="76 posts"
     >networking</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#platanada-ref'; hide_others()"
     title="6 posts"
     >platanada</a>
</td></tr>
<tr class="row23"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#multimedia-ref'; hide_others()"
     title="24 posts"
     >multimedia</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#linux (the kernel of course)-ref'; hide_others()"
     title="7 posts"
     >linux (the kernel of course)</a>
</td></tr>
<tr class="row24"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#puppet-ref'; hide_others()"
     title="1 posts"
     >puppet</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#debian-ref'; hide_others()"
     title="1 posts"
     >debian</a>
</td></tr>
<tr class="row25"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Chumby-ref'; hide_others()"
     title="5 posts"
     >Chumby</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#NDS-ref'; hide_others()"
     title="6 posts"
     >NDS</a>
</td></tr>
<tr class="row26"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#drivers-ref'; hide_others()"
     title="31 posts"
     >drivers</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#Debian-ref'; hide_others()"
     title="69 posts"
     >Debian</a>
</td></tr>
<tr class="row27"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Debian-devel-ref'; hide_others()"
     title="13 posts"
     >Debian-devel</a>
</td><td class="col2">
  <a href="javascript:window.location.href='/tags.html#emacs-ref'; hide_others()"
     title="48 posts"
     >emacs</a>
</td></tr>
<tr class="row28"><td class="col1">
  <a href="javascript:window.location.href='/tags.html#Arco-ref'; hide_others()"
     title="116 posts"
     >Arco</a>
</td></tr>

</table>
</div>

</div>

<div class="span9">
  
    <div class="pagination pagination-centered">
  <ul>

  
    <li class="prev"><a href="/" title="first page">&laquo;</a></li>
    <li class="prev" title="previous page">
      
        <a href="/page53">&lsaquo;</a>
      
    </li>
  

  <li><a>Page: 54 of 118</a></li>

  
    <li class="next" title="next page">
      <a href="/page55">&rsaquo;</a>
    </li>
    <li class="next"><a href="/page118" title="last page">&raquo;</a></li>
  

  </ul>
</div>



  

  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  

  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2008-01-11/traceando-cdigo-c-en-los-avr-in-circuit-avarice">Traceando código C en los AVR "in circuit": avarice</a></h2>

  <div class="header">
  <span class="submitted">
    2008-01-11
    
      
  <a href="/users.html#javieralso">
   javieralso
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2008-01-11-traceando-cdigo-c-en-los-avr-in-circuit-avarice.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2008-01-11-traceando-cdigo-c-en-los-avr-in-circuit-avarice.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#embedded-ref">embedded </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/835">node/835</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>Cómo tracear un programa en C para <span class="caps">AVR</span> en <span class="caps">GNU</span>/Linux con <b>avarice</b> &#8220;in circuit&#8221;</blockquote>
<h2>Introducción</h2>
<p>Bueno, como lo prometido es deuda he conseguido tracear un programa escrito en C para un ATMEGA128 en la propia placa de desarrollo utilizando solamente software libre. Aquí explicaré como lo he hecho y además, como extensión a la receta anterior sobre <a href="http://crysol.org/node/833">simulación de código para <span class="caps">AVR</span></a> explicaré como depurar con la herramienta libre <tt>ddd</tt>, que es básicamente un <em>front-end</em> para <tt><a href="node/313">gdb</a></tt> muy fácil y cómodo de utilizar.<br />
Así pues, sin mas preámbulos ¡¡¡¡Al turrónnnnn!!!! :-P</p>
<h2>Preparando el terreno</h2>
<p>Bueno, para nuestros propósitos neceistaremos un <a href="http://www.atmel.com/dyn/products/tools_card.asp?tool_id=2737"><em><span class="caps">AVR</span> <span class="caps">JTAG</span> <span class="caps">ICE</span></em></a>. Se trata de un programador/emulador para <em><span class="caps">AVR</span></em> y soporta muchísimos de los micros de ésta familia.</p>
<p>En lo referente al software, utilizaremos <a href="http://avarice.sourceforge.net/">avarice</a> que no es ni mas ni menos que nuestro interface con el <span class="caps">JTAG</span>. También haremos uso del ya conocido <tt>avr-gdb</tt> y de <a href="http://www.gnu.org/software/ddd/">ddd</a> como front-end de <tt>avr-gdb</tt>.</p>
<p>Bueno, pues suponiendo que seguisteis con atención la receta anterior en la que hablé de cómo simular los <em><span class="caps">AVR</span></em>, tan solo tendremos que instalar <tt>ddd</tt> y <tt>avarice</tt> en nuestra máquina para empezar&#8230;</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> sudo apt-get install avarice ddd
</code></pre></div></div>
<h2>Compilación del código a simular</h2>
<p>Bueno, para la compilación del código necesitamos exactamente las mismas opciones que para la simulación. De hecho, el proceso es el mismo, ya que en ambos casos usamos <em>avr-gdb</em>. La única diferencia es que avarice no necesita para nada el archivo <em>.bin</em> que creamos. En su lugar utilizaremos el <em>.hex</em>, que será el que carguemos en el microcontrolador para tracear. Por lo tanto podemos seguir utilizando el <em>Makefile</em> de la receta anterior y supondré que, de hecho, estamos trabajando con el mismo proyecto.</p>
<h2>Simulando con <em>ddd</em></h2>
<p>Bueno, antes de empezar a tracear, voy a contar como utilizar <em>ddd</em> para simular. En realidad es muy sencillo. De hecho, hay que seguir exactamente todos los pasos de la receta anterior, salvo que en lugar de llamar a <em>avr-gdbtui</em>, se llama a <em>ddd</em> diciéndole que use por debajo a <em>avr-gdb</em>. Resumiendo, tenemos que hacer algo como esto:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> ddd --debugger avr-gdb -x comandos.gdb 
</code></pre></div></div>
<p>¡¡Y ya ta!! Ale, a simular cosas chulas :-P</p>
<h2>Un poco de <em>avarice</em></h2>
<p>Antes de ponernos manos a la obra, explicaré un poco el uso de <em>avarice</em>. Bueno, <em>avarice</em> permite borrar, programar, cambiar los valores de los fusibles, leer el contenido de la memoria del chip, verificar el código del chip y, por supuesto, tracear. Para todo ello necesitaremos, como es de suponer, el <span class="caps">JTAG</span> antes mencionado.</p>
<p>Si queremos hacer cosas como por ejemplo borrar un chip, haríamos lo siguiente:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> avarice -2 --erase  --jtag usb
</code></pre></div></div>
<p>la opción <em>-2</em> se utiliza para decirle a <em>avarice</em> que estamos trabajando con el <span class="caps">JTAG</span> mkII, que es algo así como la segunda versión. <em>&#8212;jtag usb</em> indica que estamos utilizando la conexión <span class="caps">USB</span> del dispositivo. Si quisiéramos utilizar un puerto seríe, habría que sustituir <em>usb</em> por la ruta del archivo de dispositivo del puerto a utilizar.</p>
<p>Para programar un micro:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> avarice -2 --erase --program --file archivo.hex --jtag usb
</code></pre></div></div>
<p>Después de pasar la opción <em>&#8212;program</em>, tenemos que decir qué archivo queremos utilizar. Para se utiliza la opción <em>&#8212;file</em> seguida del archivo que queremos transferir.</p>
<p>Si se utiliza la opción <em>&#8212;P</em> seguido de un modelo de micro podemos decirle a <em>avarice</em> que estaremos utilizando ése micro. Lo normal es que <em>avarice</em> sea capaz de leer la información de identificación del micro sin problemas.</p>
<p>Siempre que queramos programar un micro, deberemos borrarlo antes de manera explícita, ya que el borrado no se hace de forma automática al iniciar la programación, como si pasa con otros entornos.</p>
<h2>Al meollo del asunto: <span class="caps">TRACEANDO</span></h2>
<p>Ahora ha llegado la hora de la verdad. Con todo listo, nuestro <span class="caps">JTAG</span> conectado al usb del ordenador y a la tarjeta a tracear nos disponemos a empezar. La forma en que se ejecutan las aplicaciones es la misma que en la receta anterior. De hecho, para <em>avr-gdb</em>, <em>avarice</em> cumple exactamente el mismo papel que <em>simulavr</em> y lo ve de la misma manera.</p>
<p>Lanzamos primero <em>avarice</em>, diciéndole que programe el micro si esque no lo habíamos hecho nosotros antes:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> avarice -2 --erase --program --file rs232toRS485.hex --jtag usb:1212
</code></pre></div></div>
<p>Ésto es exactamenet lo que hicimos antes, pero con el añadido de que además, le hemos dicho que se quede escuchando conexiones entrantes por el puerto 1212</p>
<p>Ahora tenemos que lanzar <em>ddd</em>, pero antes necesitamos un archivo de comandos para que los ejecute al comienzo. Éste archivo es casi igual que el de la receta anterior, solo que cambian un par de cosillas, así que lo pongo tal y como lo tengo yo:</p>
<pre>
set debug remote 1
file rs232toRS485.out
target remote 192.168.0.19:1212
break main
continue
</pre>
<p>Bueno, podemos ver que el archivo es casi igual. Solo se ha eliminado el <em>load</em>, que aquí lo que hacía era cargar el código del micro en el simulador, cosa que no nos interesaba. También activamos la simulación remota (<em>set debug remote 1</em>).</p>
<p>Una vez hecho ésto, solo nos queda llamar al simulador:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> ddd --debugger avr-gdb -x comandos.gdb
</code></pre></div></div>
<p>y ¡¡YA ESTÁ!! a partir de ahora, lo que hagamos en <em>ddd</em> se verá reflejado en nuestra placa de desarrollo. Podremos leer variables, asignarles otros valores, etc etc etc. Eso si, existen algunas limitaciones, como por ejemplo que solo podemos tener 3 breakpoints como mucho, pero vamos, menudencias ;-)</p>
<p>Pues nada més. Espero que lo disfrutéis como lo estoy disfrutando yo y que os sea tan útil para vuestros proyectos como lo está siendo para mi ;-)</p>
<h2>Referencias</h2>
<p>?</p>
    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/quote/2008-01-11/easy-to-shoot">“C makes it easy to shoot yourself in the foot; C++ makes it harder, but when you do, it blows away your whole leg”</a></h2>

  <div class="header">
  <span class="submitted">
    2008-01-11
    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/2008-01-11-easy-to-shoot.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/2008-01-11-easy-to-shoot.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#quote-ref">
    		quote
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#C++-ref">C++ </a></li>
    
  



     </ul>
   </span>

   

</div>




  <div class="content">
    
      <p>― Bjarne Stroustrup</p>
<p>«Con C es fácil dispararse en un pie. Con C++ es más difícil, pero cuando lo haces, te arranca la pierna entera».</p>
    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2008-01-10/simulacin-de-cdigo-c-para-avr">Simulación de código C para AVR</a></h2>

  <div class="header">
  <span class="submitted">
    2008-01-10
    
      
  <a href="/users.html#javieralso">
   javieralso
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2008-01-10-simulacin-de-cdigo-c-para-avr.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2008-01-10-simulacin-de-cdigo-c-para-avr.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#embedded-ref">embedded </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/833">node/833</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>Cómo depurar un programa en C para <span class="caps">AVR</span> en <span class="caps">GNU</span>/Linux con <b>avr-gdb</b></blockquote>
<h2>Introducción</h2>
<p>Después de haberlo intentado varias veces, habiéndome dado por vencido siempre, he vuelto a las andadas, ésta vez para no parar hasta conseguir depurar un programa escrito que utiliza <a href="http://www.nongnu.org/avr-libc"><b>avr-libc</b></a> (se puede consultar la receta sobre  <a href="http://crysol.org/node/530">instalar la toolchain para <span class="caps">AVR</span></a> en éste mismo blog).</p>
<p>Para la depuración he utilizado <em>avr-gdb</em> y <a href="http://www.nongnu.org/simulavr/"><em>simulavr</em></a> desde distintas máquinas, consiguiendo de ese modo ver en una la ejecución del programa objeto de la prueba y en otra el contenido de los registros y de la memoria del micro.</p>
<p>A partir de ahora, explico cómo lo he hecho todo, desde la compilación (se necesitan parámetros específicos para el enlazador) hasta la puesta en funcionamiento del simulador. Doy por sentando que se conoce el uso de <em>gdb</em> para depurar.</p>
<h2>Praparándolo todo</h2>
<p>Bueno, para que podamos funcionar tan solo necesitamos <em>simulavr</em> y <em>avr-gdb</em>. En nuestro querido Debian ya sabeis:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> sudo apt-get install avr-gdb simulavr
</code></pre></div></div>
<h2>Compilación del código a simular</h2>
<p>Para poder simular el código, debemos pasar la opción <b>-g</b> a <em>avr-gcc</em>. Además, de eso, debemos decirle al enlazador que utilice la opción <b>-gstabs</b>. Os paso directamente el Makefile del proyecto que utilicé como prueba para que lo veais mas claro. Está un poco &#8220;guarro&#8221;, pero servirá para ilustrar el ejemplo ;-):</p>
<pre>
MCU=atmega128
CC=avr-gcc
OBJCOPY=avr-objcopy
CFLAGS=-g -mmcu=$(MCU) -Wall -Wstrict-prototypes 
#-------------------
all: rs232toRS485.hex rs232toRS485.bin
#-------------------
%.hex : %.out 
	$(OBJCOPY) -j .text -O  ihex rs232toRS485.out rs232toRS485.hex 

%.bin : %.out
	$(OBJCOPY) -j .text -O binary rs232toRS485.out rs232toRS485.bin

rs232toRS485.out : main.o 
	$(CC) $(CFLAGS) -o rs232toRS485.out -Wl,-Map,rs232toRS485.map &lt;b&gt;-Wa,-gstabs&lt;/b&gt; main.o
	avr-objdump -S rs232toRS485.out &gt; rs232toRS485.lst

%.o : %.c 
	$(CC) $(CFLAGS) -O0 -c $^

</pre>
<p>Además de lo comentado anteriormente, también se ha marcado una regla que se encarga de la creación de una imagen binaria del código de salida. Ésta imagen es importante, ya que es la que cargará <em>simulavr</em> para poder llevar a cabo la simulación del micro.</p>
<p><b><span class="caps">NOTA</span>: </b>Para que se pueda ver el contenido de las variables locales dentro del entorno de simulación, es muy importante que el flag de optimización esté puesto a 0. ($(CC) $(<span class="caps">CFLAGS</span>) <b>-O0</b> -c $^).</p>
<h2>Simulando</h2>
<p>Bueno, una vez que ya tenemos nuestro programita compilado toca simularlo. Supondremos que vamos a correr <em>simulavr</em> y <em>avr-gdb</em> en la misma máquina, aunque ésto no tiene por qué ser así, de hecho yo lo hago en máquinas separadas para poder ver la traza y el estado de los registros. Pero ésto ya va a gusto del consumidor :-P.</p>
<p>Para nuestros propósitos <em>simulavr</em> funcionará como un <em>gdbserver</em>, es decir, le dirá a <em>avr-gdb</em> cómo debe comportarse. Por ello tenemos que arrancarlo primero. Para ello lo lanzamos de la siguiente manera:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> simulavr -d atmega128 -P simulavr-disp -g rs232toRS485.bin 
</code></pre></div></div>
<p>¿Qué hemos hecho? pues hemos llamado a <em>simulavr</em> diciéndole que vamos a simular un <em>atmega128</em>. Como queremos ver el contenido de los registros hemos llamado tambíen a <em>simulavr-disp</em> ya que <em>simulavr</em> solo dice a <em>avr-gdb</em> cómo comportarse, pero no muestra información alguna. <em>simualvr-disp</em> es el frontend que nos permite ver el contenido de los registros internos de la máquina que estamos simulando.</p>
<p>Para lanzar <em>avr-gdb</em> crearemos antes un archivo de comandos a ejecutar para &#8220;automatizar&#8221; un poco el uso. Éste archivo tiene algo como ésto:</p>
<pre>
file rs232toRS485.out
target remote localhost:1212
load
break main
continue
</pre>
<p>En él decimos a gdb que cargue el archivo a simular, se conecte con <simulavr> en esta mísma máquina (<b>localhost</b>) y escuchando en el puerto <em>1212</em> que es donde por defecto escucha <em>simulavr</em>.<br />
Lanzamos <avr>avr-gdb</em> (a mi en especial me gusta mas <em>avr-gdbtui</em>) de la siguiente manera:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">javieralso@avalon:~$</span> avr-gdbtui -x comandos.gdb 
</code></pre></div></div>
<p>siendo <em>comandos.gdb</em> el archivo en el que guardamos los comandos anteriores.<br />
Podremos ver como inmediatamente cambian los valores de los registros mostrados en <em>simulavr</em> y <em>avr-gdb</em> queda parado en el <em>main</em> de nuestro programa. Ésto sucede porque nuestro programa empieza a simularse inmediatamente después de lanzar el depurador y para en el primer breakpoint que encuentra, que se encuentra en <em>main</em> (breakpoint por defecto). Cómo antes de eso se tiene que ejecutar código (arranque del micro, configuración de la pila, registros de configuración iniciales, inicialización de memoria, etc&#8230;.) vemos los cambios en los registros de la máquina reflejados en <em>simulavr</em>. Ahora ya podremos simular/depurar como se hace usualmente con gdb.</p>
<p>¡¡Ale, a disfrutarlo :-D!!</p>
<h2>En el futuro&#8230;</h2>
<p>Actualmente también me estoy peleando con <a href="http://avarice.sourceforge.net/"><em>avarice</em></a> que permite borrar, programar, leer, verificar y depurar &#8220;on board&#8221; muchos dispositivos de la familia <span class="caps">AVR</span> utilizando un <a href="http://www.atmel.com/dyn/products/tools_card.asp?tool_id=2737"><em><span class="caps">AVR</span> <span class="caps">JTAG</span> <span class="caps">ICE</span></em></a> y <em>avr-gdb</em> o <em>insight</em>. En cuanto sea capaz de terminar de hacerlo funcionar, prometo explicarlo en otra recetilla. Mientras tanto a esperar pacientemente jugueteando con todo lo que ya tenemos sobre <span class="caps">AVR</span>&#8230;.</p>
<h2>Referencias</h2>
<ul>
  <li><a href="http://www.zen9658.zen.co.uk/avr-doc/HOWTO-get-started.html">How to get started with an <span class="caps">AVR</span> at minimal cost</a></li>
  <li><a href="http://electrons.psychogenic.com/modules/arms/art/6/SimulatingandDebuggingAVRprograms.php">Simulating and debugging <span class="caps">AVR</span> programs</a></li>
</ul>
    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2008-01-06/gnome-vfs-con-python">GNOME VFS con Python</a></h2>

  <div class="header">
  <span class="submitted">
    2008-01-06
    
      
  <a href="/users.html#david_villa">
   david.villa
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2008-01-06-gnome-vfs-con-python.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2008-01-06-gnome-vfs-con-python.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#gnome-ref">gnome </a></li>
    
    	<li><a href="/tags.html#Python-ref">Python </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/831">node/831</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote class="head">
<p class="head"><span class="caps">GNOME</span> <aconym title="Virtual FIle System"><span class="caps">VFS</span> </a> es una librería para realizar todo tipo de operaciones sobre ficheros independientemente del método de acceso necesario para llegar a ellos (<span class="caps">FTP</span>, <span class="caps">HTTP</span>, WebDAV, <span class="caps">SMB</span>, etc). Esta receta muestra ejemplos de lo sencilla y potente que puede llegar a ser esta pequeña maravilla.</p>
</blockquote>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/recipe/2008-01-06/gnome-vfs-con-python">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2008-01-03/configuracin-bsica-para-jed">Configuración básica para jed</a></h2>

  <div class="header">
  <span class="submitted">
    2008-01-03
    
      
  <a href="/users.html#david_villa">
   david.villa
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2008-01-03-configuracin-bsica-para-jed.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2008-01-03-configuracin-bsica-para-jed.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/829">node/829</a>
   </span>
   

</div>




  <div class="content">
    
      <p>El siguiente fichero <tt>.jedrc</tt> resuelve dos cosas que suelen ser bastante latazo en <span class="caps">JED</span>:</p>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/recipe/2008-01-03/configuracin-bsica-para-jed">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-12-29/solucin-al-problema-con-los-overlays-en-monitores-secundarios">Solución al problema con los overlays en monitores secundarios</a></h2>

  <div class="header">
  <span class="submitted">
    2007-12-29
    
      
  <a href="/users.html#int-0">
   int-0
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-12-29-solucin-al-problema-con-los-overlays-en-monitores-secundarios.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-12-29-solucin-al-problema-con-los-overlays-en-monitores-secundarios.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#graphics-ref">graphics </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/827">node/827</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>Alguna vez puede darse el caso de que necesitemos proyectar una película o jugar a algunos juegos en un monitor secundario (o proyector) que conectemos a un portátil. Puede haberos pasado (como a mi) que la ventana en el monitor secundario aparezca en negro. Veremos como solucionar el problema en esta micro-receta.</blockquote>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/recipe/2007-12-29/solucin-al-problema-con-los-overlays-en-monitores-secundarios">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/new/2007-12-20/el-ceslcam-regala-un-pendrive-de-4gb">¡El Ceslcam regala un pendrive de 4GB!</a></h2>

  <div class="header">
  <span class="submitted">
    2007-12-20
    
      
  <a href="/users.html#ceslcam">
   ceslcam
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-12-20-el-ceslcam-regala-un-pendrive-de-4gb.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-12-20-el-ceslcam-regala-un-pendrive-de-4gb.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#new-ref">
    		new
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/825">node/825</a>
   </span>
   

</div>




  <div class="content">
    
      <p>En este tiempo, el Centro de Excelencia de Software Libre de Castilla-La Mancha (<span class="caps">CESLCAM</span>) se ha centrado en la organización de jornadas de difusión; talleres; puesta en marcha del primer concurso universitario de software libre en Castilla-La Mancha; creación de un portal web y observatorio tecnológico en fuentes abiertas; participación activa en comunidades relacionadas con estas tecnologías como el proyecto Morfeo de telefónica I+D; acciones sociales con equipamientos hardware reutilizables; puesta en marcha de su plataforma de teleformación y en otro conjunto de actividades que han intentado acercar el software libre a todos los ciudadanos para aprovechar todas las ventajas que supone el uso de estos aplicativos.</p>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/new/2007-12-20/el-ceslcam-regala-un-pendrive-de-4gb">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/opinion/2007-12-17/razones-de-peso-por-las-que-necesitas-windows-live">Razones de peso por las que necesitas Windows Live!</a></h2>

  <div class="header">
  <span class="submitted">
    2007-12-17
    
      
  <a href="/users.html#nacho">
   nacho
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-12-17-razones-de-peso-por-las-que-necesitas-windows-live.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-12-17-razones-de-peso-por-las-que-necesitas-windows-live.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#opinion-ref">
    		opinion
    	</a></li>
    
  




       
       


  
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/822">node/822</a>
   </span>
   

</div>




  <div class="content">
    
      <p>Correo que me han mandado los de Hassefroch, supongo que os habrá llegado también, si tenéis cuenta en hotmail.</p>
<blockquote>
<p>Razones de peso por las que necesitas Windows Live!<br />
   1. Porque si tienes una cámara digital, la Galería fotográfica de Windows Live te permite importar, administrar y compartir fotos fácilmente en Windows Live Spaces y en otros servicios.</p>
</blockquote>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/opinion/2007-12-17/razones-de-peso-por-las-que-necesitas-windows-live">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/2007-12-17/building-skills">Building Skills</a></h2>

  <div class="header">
  <span class="submitted">
    2007-12-17
    
      
  <a href="/users.html#david_villa">
   david.villa
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-12-17-building-skills.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-12-17-building-skills.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
  




       
       


  
    
    	<li><a href="/tags.html#Python-ref">Python </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/823">node/823</a>
   </span>
   

</div>




  <div class="content">
    
      <p>Serie de 3 libros electrónicos sobre programación. El propio autor explica:</p>
<p><em>How do you <strong>build skills in programming</strong>? By doing a series of programming exercises that are focused on showing language features one at a time. These books build skills without asking you to assimilate too many technical concepts in a single sitting.</em></p>
<p>
    
  </div>

  <div class="footer">
    
    <div class="more">
      <a href="/2007-12-17/building-skills">
	
	  Leer más
	
      </a>
    </div>
    
  </div>

</div>



    
  
    
      <div class="node teaser ">
  <h2><a href="/recipe/2007-12-13/emulador-de-cisco-ios-dynamips-y-dynagen">Emulador de Cisco IOS: Dynamips y Dynagen</a></h2>

  <div class="header">
  <span class="submitted">
    2007-12-13
    
      
  <a href="/users.html#felix">
   felix
  </a>


    
  </span>

   <span class="source">
     —
     [
      <a href="https://github.com/CRySoL/web.source/edit/master/_posts/migrated/2007-12-13-emulador-de-cisco-ios-dynamips-y-dynagen.textile">edit</a> |
      <a href="https://github.com/CRySoL/web.source/raw/master/_posts/migrated/2007-12-13-emulador-de-cisco-ios-dynamips-y-dynagen.textile">raw</a>
      ]
   </span>

   <span class="meta">
     <ul>
       
       


  
    
    	<li><a href="/categories.html#recipe-ref">
    		recipe
    	</a></li>
    
  




       
       


  
    
    	<li><a href="/tags.html#networking-ref">networking </a></li>
    
    	<li><a href="/tags.html#Arco-ref">Arco </a></li>
    
  



     </ul>
   </span>

   
   <span class="migrated">
     migrated&nbsp;from&nbsp;<a href="http://crysol.org/node/821">node/821</a>
   </span>
   

</div>




  <div class="content">
    
      <blockquote>
<p>Esta receta es una introducción al uso de los programas libres dynamips y dynagen que nos permiten emular Cisco <span class="caps">IOS</span>. Las posibilidades son infinitas, aqui damos los pasos para poder empezar a trabajar de una forma básica.</p>
</blockquote>
<p>Si alguna vez has querido aprender a configurar redes seguramente te has encontrado con un problema para encontrar entornos reales que te permitan aprender los comandos y configuraciones que se necesitan para echar a andar una red real.</p>
<p>Entre los equipos de mayor calidad nos podemos encontrar la gama de routers Cisco. Tener acceso a routers cisco para prácticar es díficil y caro. Afortunadamente existen dos programas que nos pueden simplificar la vida extraordinariamente. Dynamips y Dynagen son dos programas que te permiten configurar una red medianamente compleja y configurar cada uno de los routers presentes en dicha red mediante un emulador que carga una imagen real del sistema operativo de Cisco <span class="caps">IOS</span>, es decir, exactamente el mismo sistema operativo que se ejecuta en los equipos reales.</p>
<p>Las ventajas se ven de forma clara, la imagen que carga el dynamips es exactamente la misma que se ejecuta en un router real por lo que el realismo va mucho mas allá del que puedes conseguir con programas como el PacketTracer. PacketTracer es un programa (la licencia no es libre) que te permite modelar redes y configurarlas.</p>
<h2>Instalación</h2>
<p>Bueno, al tema, los programas dynamips y dynagen son paquetitos debian, asi que, simplemente, apt-get install dynamips y apt-get install dynagen.</p>
<p>En realidad el programa de emulación es dynamips  que puede emular los modelos de routers 7200/3600/3725/3745/2600/1700 mientras que dynagen es un front-end basado en texto que te permite crear redes virtuales y trabajar con ellas.</p>
<p>Estos programas han sido creados para prácticar con la configuración de los routers pensando en las certificaciones <span class="caps">CCNA</span>/<span class="caps">CCNP</span>/<span class="caps">CCIE</span>.</p>
<h2>Emulando redes virtuales</h2>
<p>Una vez instalados, empezar a trabajar con ellos es sumamente sencillo, arrancas dynamips con las opciones que necesites, por ejemplo, en nuestro caso le indicamos que el puerto va a ser el 7200 :</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">#</span> dynamips -H 7200
<span class="go">Cisco Router Simulation Platform (version 0.2.8-RC2-x86)</span>
<span class="go">Copyright (c) 2005-2007 Christophe Fillot.</span>
<span class="go">Build date: Oct 17 2007 06:50:15</span>
<span class="go">ILT: loaded table &quot;mips64j&quot; from cache.</span>
<span class="go">ILT: loaded table &quot;mips64e&quot; from cache.</span>
<span class="go">ILT: loaded table &quot;ppc32j&quot; from cache.</span>
<span class="go">ILT: loaded table &quot;ppc32e&quot; from cache.</span>
<span class="go">Hypervisor TCP control server started (port 7200).</span>
</code></pre></div></div>
<p>A ese puerto se conectará dynagen para pasarle los parámetros de configuración de la simulación.</p>
<p>A continuación arrancamos dynagen indicandole el escenario que queremos crear. El paquete debian tiene unos cuantos ejemplos, veamos uno sencillito creado por nosotros:</p>
<div>
<div class="highlight"><pre><code class="text"># Ejemplo 

autostart = False

[localhost]
    
    [[7200]]
        image = /home/pepe/ciscoios/c7200-advsecurityk9-mz.124-15.T1.bin
        npe = npe-400
        ram = 160
    
    [[ROUTER R1]]
        s1/0 = R2 S1/0
        model = 7200

    
    [[ROUTER R2]]
        model = 7200
</code></pre></div></div>
<p>La primera sección [ [ 7200 ] ] nos indica la configuración general de los routers, hay muchos parámetros pero el mas importante y que no puede faltar es la imagen, este parámetro determina la imagen del sistema operativo <span class="caps">IOS</span> que debe cargar. Aqui hay un problema, el sistema operativo Cisco <span class="caps">IOS</span> es privativo por lo que debemos obtener una imagen de algún sitio autorizado. Y aviso a navegantes YO NO <span class="caps">PUEDO</span> <span class="caps">DISTRIBUIR</span> <span class="caps">CISCO</span> <span class="caps">IOS</span> por lo que tendrás que conseguirla por tus propios medios. (ACTUALIZACIÓN: Parece que hay gente que puede distribuirlas, mira al final de esta receta).</p>
<p>A continuación se definen dos routers [[<span class="caps">ROUTER</span> R1]] y [[<span class="caps">ROUTER</span> R2]] ambos con<br />
el modelo 7200 (que debe coincidir con la imagen de sistema operativo que cargamos), el atributo model proporciona el modelo de router (7200 en nuestro caso) mientras que tambien debemos especificar las conexiones:</p>
<pre>
        s1/0 = R2 S1/0
</pre>
<p>Esta sentencia nos indica que la linea serial del router R1 la conectamos a la linea serial S1/0 del router R2.</p>
<p>Si arrancamos el dynagen pasándole como argumento este archivo, que llamaremos simple.net, obtenemos una consola de texto:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="gp">$</span> dynagen simple.net 
<span class="go">Reading configuration file...</span>
<span class="go">Network successfully loaded</span>
<span class="go">Dynagen management console for Dynamips</span>
<span class="go">Copyright (c) 2005-2007 Greg Anuzelli</span>
<span class="go">=&gt; </span>
</code></pre></div></div>
<p>La cantidad de opciones y configuraciones posibles son infinitas, lo mas básico para empezar a trabajar es observar los dispositivos que existen en la red con el comando list:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go">=&gt; list</span>
<span class="go">Name       Type       State      Server          Console   </span>
<span class="go">R1         7200       stopped    localhost:7200  2000      </span>
<span class="go">R2         7200       stopped    localhost:7200  2001      </span>
<span class="go">=&gt; </span>
</code></pre></div></div>
<p>Arrancar los routers:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go">=&gt; start /all</span>
<span class="go">Warining: Starting R1 with no idle-pc value</span>
<span class="go">100-VM &#39;R1&#39; started</span>
<span class="go">Warining: Starting R2 with no idle-pc value</span>
<span class="go">100-VM &#39;R2&#39; started</span>
</code></pre></div></div>
<p>y obtener una consola para trabajar con los distintos routers:</p>
<div class="console">
<div class="highlight"><pre><code class="console"><span class="go">=&gt; console /all</span>
<span class="go">=&gt; </span>
</code></pre></div></div>
<p>Al ejecutar este comando deben aparecer dos consolas, cada una de ellas representa un router y puedes ver como carga la imagen del sistema operativo y podremos empezar a trabajar con comandos reales.</p>
<p>Para terminar varios consejos, dynamips y dynagen consumen muchos recursos, si quieres optimizar y que no consuma tanto mira la opción idle-pc.</p>
<p>Entre las características de dynagen te permite capturar paquetes en distintas interfaces de tu red virtual en el formato .cap que con posterioridad puedes visualizar con programas como wireshark.</p>
<p>Si quieres echarle un vistazo a las posibilidades de estos programas:</p>
<p><a href="http://www.dynagen.org/tutorial.htm">http://www.dynagen.org/tutorial.htm</a></p>

<p>y David se ha encontrado una página con imágenes de Cisco <span class="caps">IOS</span> para bajárselas <a href=" http://aprendemas.educaleft.com/index.php?option=com_content&view=article&catid=40%3Acolaboraciones&id=83%3Apack-de-ios-cisco-utilizables-con-gns3&Itemid=1">aquí</a></p>
    
  </div>

  <div class="footer">
    
  </div>

</div>



    
  

  <div class="pagination pagination-centered">
  <ul>

  
    <li class="prev"><a href="/" title="first page">&laquo;</a></li>
    <li class="prev" title="previous page">
      
        <a href="/page53">&lsaquo;</a>
      
    </li>
  

  <li><a>Page: 54 of 118</a></li>

  
    <li class="next" title="next page">
      <a href="/page55">&rsaquo;</a>
    </li>
    <li class="next"><a href="/page118" title="last page">&raquo;</a></li>
  

  </ul>
</div>



</div>

	</div>
      </div>

      <hr/>

      <footer>
        <p>&copy; 2013 CRySoL
          with help from <a href="http://jekyllbootstrap.com" target="_blank" title="The Definitive Jekyll Blogging Framework">Jekyll Bootstrap</a>
          and <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>.
	  See <a href="https://github.com/CRySoL/web.source" target="_blank">site sources</a>.
	  <br/>
	  Generated at Tue Nov 19 00:01:55 +0100 2013
	</p>
      </footer>

    </div>

    
  </body>
</html>

